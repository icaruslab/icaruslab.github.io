<!doctype html>
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="generator" content="Hugo 0.110.0">
<link rel="canonical" type="text/html" href="../docs.html">
<link rel="alternate" type="application/rss&#43;xml" href="../docs/index.xml">
<meta name="robots" content="noindex, nofollow">


<link rel="shortcut icon" href="../favicons/favicon.ico" >
<link rel="apple-touch-icon" href="../favicons/apple-touch-icon-180x180.png" sizes="180x180">
<link rel="icon" type="image/png" href="../favicons/favicon-16x16.png" sizes="16x16">
<link rel="icon" type="image/png" href="../favicons/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="../favicons/android-36x36.png" sizes="36x36">
<link rel="icon" type="image/png" href="../favicons/android-48x48.png" sizes="48x48">
<link rel="icon" type="image/png" href="../favicons/android-72x72.png" sizes="72x72">
<link rel="icon" type="image/png" href="../favicons/android-96x96.png" sizes="96x96">
<link rel="icon" type="image/png" href="../favicons/android-144x144.png" sizes="144x144">
<link rel="icon" type="image/png" href="../favicons/android-192x192.png" sizes="192x192">

<title>Documentation | Icarus Project</title>
<meta name="description" content="


In this section you&rsquo;ll find the project&rsquo;s documentations, which will be updated regularly






Note

    Icarus project related …">
<meta property="og:title" content="Documentation" />
<meta property="og:description" content="Testing and documenting Internet censorship circumvention techniques" />
<meta property="og:type" content="website" />
<meta property="og:url" content="/docs.html" /><meta property="og:image" content="/images/misc/logo.png"/><meta property="og:site_name" content="Icarus Project" />
<meta itemprop="name" content="Documentation">
<meta itemprop="description" content="Testing and documenting Internet censorship circumvention techniques"><meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="/images/misc/logo.png"/>

<meta name="twitter:title" content="Documentation"/>
<meta name="twitter:description" content="Testing and documenting Internet censorship circumvention techniques"/>




<link rel="preload" href="../scss/main.min.97f3cb6b3a7a3b01e5769970dfd6c6735194f4357c93cac16f91211734b2ff7e.css" as="style">
<link href="../scss/main.min.97f3cb6b3a7a3b01e5769970dfd6c6735194f4357c93cac16f91211734b2ff7e.css" rel="stylesheet" integrity="">

<script
  src="https://code.jquery.com/jquery-3.6.0.min.js"
  integrity="sha384-vtXRMe3mGCbOeY7l30aIg8H9p3GdeSe4IFlP6G8JMa7o7lXvnz3GFKzPxzJdPfGK"
  crossorigin="anonymous"></script>
<script
  src="https://unpkg.com/lunr@2.3.9/lunr.min.js"
  integrity="sha384-203J0SNzyqHby3iU6hzvzltrWi/M41wOP5Gu+BiJMz5nwKykbkUx8Kp7iti0Lpli"
  crossorigin="anonymous"></script>
<meta http-equiv="onion-location" content="http://icarus2yms7lbd33rlmfois75eeicqbn5nh7dnzvnf23bg2jwv4eilad.onion" />
  </head>
  <body class="td-section">
    <header>
      
<nav class="js-navbar-scroll navbar navbar-expand navbar-dark flex-column flex-md-row td-navbar">
        <a class="navbar-brand" href="../">
		<span class="navbar-logo"></span><span class="font-weight-bold">Icarus Project</span>
	</a>
	<div class="td-navbar-nav-scroll ml-md-auto" id="main_navbar">
		<ul class="navbar-nav mt-2 mt-lg-0">
			
			
			<li class="nav-item mr-4 mb-2 mb-lg-0">
				
				
				
				
				
				
				
				
				<a class="nav-link" href="../about.html" ><span>About</span></a>
			</li>
			
			<li class="nav-item mr-4 mb-2 mb-lg-0">
				
				
				
				
				
				
				
				
				<a class="nav-link active" href="../docs.html" ><span class="active">Documentation</span></a>
			</li>
			
			<li class="nav-item mr-4 mb-2 mb-lg-0">
				
				
				
				
				
				
				
				
				<a class="nav-link" href="../blog.html" ><span>Blog</span></a>
			</li>
			
			<li class="nav-item mr-4 mb-2 mb-lg-0">
				
				
				
				
				
				
				
				
				<a class="nav-link" href="../community.html" ><span>Community</span></a>
			</li>
			
			<li class="nav-item mr-4 mb-2 mb-lg-0">
				
				
				
				
				
				
				
				
				<a class="nav-link" href="../mirrors.html" ><span>Mirrors</span></a>
			</li>
			
			
			
		</ul>
	</div>
	<div class="navbar-nav d-none d-lg-block"><input
  type="search"
  class="form-control td-search-input"
  placeholder="&#xf002; Search this site…"
  aria-label="Search this site…"
  autocomplete="off"
  
  data-offline-search-index-json-src="../offline-search-index.5d5bb4210ff758974699d5a269c01a3e.json"
  data-offline-search-base-href="../"
  data-offline-search-max-results="10"
>
</div>
</nav>

    </header>
    <div class="container-fluid td-outer">
      <div class="td-main">
        <div class="row flex-xl-nowrap">
          <main class="col-12 col-md-9 col-xl-8 pl-md-5" role="main">
            




<div class="td-content">
<div class="pageinfo pageinfo-primary d-print-none">
<p>
This is the multi-page printable view of this section.
<a href="#" onclick="print();return false;">Click here to print</a>.
</p><p>
<a href="../docs.html">Return to the regular view of this page</a>.
</p>
</div>



<h1 class="title">Documentation</h1>





    <ul>
    
  
  
  
  

  
    
    
	
<li>1: <a href="#pg-6e17e09fffc1050f46600282def85180">Overview</a></li>


    
    <ul>
        
  
  
  
  

  

    </ul>
    
  
    
    
	
<li>2: <a href="#pg-93aadc1aba179e6928539400a09b9e4e">Getting Started</a></li>


    
    <ul>
        
  
  
  
  

  

    </ul>
    
  
    
    
	
<li>3: <a href="#pg-fa248fa9f74b95c1d1b195e3b9eba4d8">Static mirroring</a></li>


    
    <ul>
        
  
  
  
  

  
    
    
	
<li>3.1: <a href="#pg-587be77ff392f3c91caa7ac78e37ab4c">Wget</a></li>


    
  
    
    
	
<li>3.2: <a href="#pg-d0e1760e35f1d241942e0213bec5fedf">HTTrack</a></li>


    
  
    
    
	
<li>3.3: <a href="#pg-70a5c6d3ecf0ae030976ff21a30d6cea">WordPress Plugins</a></li>


    
  
    
    
	
<li>3.4: <a href="#pg-3a95e807cc1878209010f0ddfd4e89d3">Static mirror hosting</a></li>


    
    <ul>
        
  
  
  
  

  
    
    
	
<li>3.4.1: <a href="#pg-5bc80f644e49026a7c52f3e47cbe2636">Hosting on Amazon S3</a></li>


    
  
    
    
	
<li>3.4.2: <a href="#pg-ea6a8581204ef24376253271090c5a26">Hosting on Google Cloud Storage</a></li>


    
  
    
    
	
<li>3.4.3: <a href="#pg-57dae832f11c9e2186ac568884cdf639">Hosting on GitHub</a></li>


    
  

    </ul>
    
  

    </ul>
    
  
    
    
	
<li>4: <a href="#pg-8cf7abe4fa02838e264baf815995e9c4">Dynamic Mirroring</a></li>


    
    <ul>
        
  
  
  
  

  
    
    
	
<li>4.1: <a href="#pg-581e176e3693d7a01cbf9e3af64f2412">Decoy</a></li>


    
  

    </ul>
    
  
    
    
	
<li>5: <a href="#pg-4c56b48f6f0c1f46b1e83c1f18e90301">Alternative Publishing Methods</a></li>


    
    <ul>
        
  
  
  
  

  
    
    
	
<li>5.1: <a href="#pg-fb3643402ea2c1b2743ebf00a44c7820">Tor</a></li>


    
    <ul>
        
  
  
  
  

  
    
    
	
<li>5.1.1: <a href="#pg-f36ecfbbaf9e4a4e829b0a21550d6529">Intro to Tor</a></li>


    
  
    
    
	
<li>5.1.2: <a href="#pg-c61b9bc9423b4630b66e739f975a37f3">EOTK</a></li>


    
  
    
    
	
<li>5.1.3: <a href="#pg-90969c637164b1e786e8631fb0b27257">Static Onion</a></li>


    
  

    </ul>
    
  
    
    
	
<li>5.2: <a href="#pg-7a223fbe9ffda78accaf5b105b058fa4">Interplanetary File System</a></li>


    
  

    </ul>
    
  
    
    
	
<li>6: <a href="#pg-1eabcdd9d7eb590f86acdfad10ecfe1c">DDoS mitigation guide</a></li>


    
    <ul>
        
  
  
  
  

  

    </ul>
    
  
    
    
	
<li>7: <a href="#pg-8efbf7499fe9c7bde8d2c1bb7ff6ee3c">Contribution Guidelines</a></li>


    
    <ul>
        
  
  
  
  

  

    </ul>
    
  
    
    
	
<li>8: <a href="#pg-8df6ea6904416b571ff9bc73afb50933">References</a></li>


    
    <ul>
        
  
  
  
  

  

    </ul>
    
  

    </ul>


<div class="content">
      

<div class="pageinfo pageinfo-primary">
<p>In this section you&rsquo;ll find the project&rsquo;s documentations, which will be updated regularly</p>

</div>



<div class="alert alert-primary" role="alert">
<h4 class="alert-heading">Note</h4>

    Icarus project related documentations are currently available in these <strong>Languages</strong>.

</div>

<ul>
<li>Arabic (coming soon!)</li>
<li><a href="../docs">English</a></li>
</ul>


<div class="alert alert-warning" role="alert">
<h4 class="alert-heading">Note</h4>

    We are planning to localize the project documentations and guides to as many languages as possible.  If you find it useful and want to translate it to any language, see the <a href="../docs/contribution-guidelines.html">Contribution Guidelines</a> section!

</div>


</div>
</div>


  
  
  
  

  
  

  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-6e17e09fffc1050f46600282def85180">1 - Overview</h1>
    <div class="lead">In this section you should have all information which will help you decide whether this project is for you!</div>
	

<div class="alert alert-warning" role="alert">
<h4 class="alert-heading">Note</h4>

    <strong>Please read carefully, and don’t hesitate to send any <a href="../community/">questions</a> you have before proceeding.</strong>

</div>

<h2 id="who-is-this-project-for">Who is this project for?</h2>
<p>Icarus Project and all its affiliated documentations, tools, and code are created and developed for the sole purpose of supporting Human rights organizations, independent new outlets, and individual publishers and activists struggling with Internet censorship in their environment.</p>
<h2 id="why-not-just-use-user-side-tools-such-as-tor-or-vpn">Why not just use user-side tools, such as Tor or VPN?</h2>
<blockquote>
<p>While we are willing to document and facilitate the usability of different user-side circumvention solutions such as Tor, and various VPN protocols, our main focus will be at publishers-side approaches.</p>
</blockquote>
<p><strong>There are many reasons behind this approach</strong></p>
<ul>
<li><strong>User-side circumvention tools are often easy to be blocked or throttled</strong>.</li>
</ul>
<p>With the exception of some circumvention tools with built-in obfuscation techniques such Shadowsocks, and new VPN protocols like Wireguard, most VPN services can be easy to identify and block.
Beside the fact that implementing circumvention solutions in this scenario with protocols like OpenVPN such as SSL tunnelling can be very complicated and usually has its own consequences on the connection performance.</p>
<p>As for Tor, it will always be a very good and recommended solution, not just for censorship circumvention but also for user privacy related reasons, and enabling Tor bridges to overcome the network blockage is relatively easy and effective.</p>
<ul>
<li><strong>Circumventing the block of user-side circumvention tools can be complicated process for non-technical users</strong></li>
</ul>
<p>As mentioned earlier, in a scenario where VPN services and/or Tor network is being effectively blocked or throttled, enabling and utilizing circumvention techniques for these services by the end user can be complicated especially for users with little or no technical experience.</p>
<ul>
<li><strong>Publishers often lose big chunk of their non-technical audience</strong></li>
</ul>
<p>As a consequence of this situation, independent publishers in their struggle with Internet censorship often lose a considerable part of their audience due to the user’s inability to get around the censorship, in addition to that it also affects their ability to reach new audience.</p>
<ul>
<li><strong>In some environments, installing circumvention tools i.e. Tor, VPN could be incriminating and dangerous</strong></li>
</ul>
<p>One big concern would be the user&rsquo;s physical security issue as in some oppressive environments, physical abduction of the user’s devices is a possibility and the very existence of such software on these devices could be incriminating and often gets utilized by the authorities as evidence against users.</p>
<h3 id="collateral-freedom">Collateral freedom!</h3>
<p>In the context of Internet censorship circumvention, <a href="https://en.wikipedia.org/wiki/Collateral_freedom">Collateral freedom</a> concept can be described as increasing the economical, political, and technical costs of Internet censorship by using crucial and big cloud services providers, and utilizing modern web encryption protocols to ultimately force censors in a situation where they can&rsquo;t block the content, without breaking or completely blocking access to crucial cloud services.</p>
<ul>
<li><a href="../docs/getting-started.html">Getting Started</a>: Get started with Icarus Project</li>
</ul>

</div>



    
      
  
  
  
  

  
  

  

    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-93aadc1aba179e6928539400a09b9e4e">2 - Getting Started</h1>
    <div class="lead">Things you need to know before getting started</div>
	<h2 id="introduction-and-methodology">Introduction and methodology</h2>
<h3 id="what-is-the-difference-between-static-and-dynamic-websites">What is the difference between Static and Dynamic websites</h3>
<p><strong>Dynamic Websites</strong> can be identified as Websites written in scripting languages which need to be processed on the server before sending the final outcome (Web Pages) to the user/browser.</p>
<p>Some examples of these languages would be PHP, Server-side Javascript, ASP etc.
Typically, most of the modern day widely used Content management systems such as WordPress and Drupal, use PHP as a backend language, which means they need a fully operational server in order to work.</p>
<p><strong>A static website</strong> would be consisting of HTML and CSS and some client-side JavaScript variations, libraries, and frameworks, which could be served as it is to the browser which can process and render the required web pages from the code and display the final outcome to the user without the need for any server-side processing.</p>
<h3 id="why-would-you-need-to-convert-your-website-to-a-static-one">Why would you need to convert your website to a static one</h3>
<blockquote>
<p><strong>The main advantage static websites holds is the ability to be stored on and served from virtually any kind of online storage platform.</strong></p>
</blockquote>
<p>In these guides we will be going through the process of converting your dynamic website to a static one, or more accurately “creating a static mirror of your dynamic website”, the reason behind that will that we will be using some circumvention techniques which depends on and utilizes technologies which doesn’t the capability of server-side processing, therefore, it won’t be able to serve any web pages written in languages depends on this capability.
One other main advantages would be security, speed, and overall performance. As static websites don&rsquo;t have to run on servers and all code runs and renders locally at the user&rsquo;s browser, that limits the attack surface significantly.</p>
<h3 id="what-if-you-dont-want-to-abandon-your-cms-and-fully-migrate-to-a-new-stack">What if you don’t want to abandon your CMS and fully migrate to a new stack</h3>
<p><strong>It’s possible</strong> to keep your current setup as it is if you are using a CMS such as WordPress or Drupal.
In which case we will go through the process of generating and maintaining a static mirror of your website. Throughout these guides, we will display different methods of achieving this task, with every method we will</p>
<h3 id="what-is-dynamic-mirroring">What is dynamic-mirroring</h3>
<blockquote>
<p><strong>You can mirror a dynamic website in different ways without needing to generate a static clone of it.</strong></p>
</blockquote>
<p><strong>One of these ways will be</strong> creating a reverse-proxy server which acts as a middle box between the client and the origin server which hosts the website, the server in the middle will get the required URL from the client and contact the origin server to fetch the content and serve it to the user. In this method the reverse-proxy server will be reachable through a domain-name which isn’t blocked, this method is relatively easy to implement, but it’s easily blocked by blocking the domain name or the IP address of the proxy server.</p>
<p><strong>Another method will be</strong> hosting a full copy of the original blocked website on the server and keeping it synchronized with the original server, this method needs certain access privileges to the origin server and it holds the same disadvantages of the first method. In many cases you can just keep changing the mirror server’s domain name and IP address whenever it gets blocked, but that can be inefficient in terms of both financial costs and usability.</p>


<div class="alert alert-success" role="alert">


    <strong>In our guides we will be introducing</strong> a way of creating and maintaining a dynamic-mirror to any blocked website, the mirror will be hosted on Google Cloud Platform’s App Engine, and will be utilizing the ability to serve the website through a subdomain under *.appspot.com domain.

</div>

<h3 id="what-is-the-level-of-technical-expertise-required-in-order-to-be-able-to-implement-the-documented-solutions">What is the level of technical expertise required in order to be able to implement the documented solutions</h3>
<p><strong>Every published solution</strong> will be labeled according to the level of technical knowledge required for it&rsquo;s implementation. Guides will be labeled in three different levels based on the required level of technical expertise you need to acquire/learn to be able to implement or develop the solution <span style="color:red"> <strong>(Beginner - Intermediate - Advanced)</strong> </span></p>

</div>



    
      
  
  
  
  

  
  

  

    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-fa248fa9f74b95c1d1b195e3b9eba4d8">3 - Static mirroring</h1>
    <div class="lead">Guides on different methods for static mirroring</div>
	<h2 id="convert-a-dynamic-site-to-a-static-one">Convert a Dynamic site to a Static one</h2>
<p><strong>As mentioned earlier</strong>, some suggested solutions in these guides are only capable of serving static web pages, in this section we’ll introduce some methods of generating a static clone of your dynamic website.
Each of these suggested methods has their own pros and cons, we’ll try to iterate on each one of them as we tested them with different websites.</p>

</div>



    
      
  
  
  
  

  
  

  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-587be77ff392f3c91caa7ac78e37ab4c">3.1 - Wget</h1>
    <div class="lead">Use <a href="https://www.gnu.org/software/wget/">Wget</a> to create a static clone of a website</div>
	<p>Required expertise level : <strong>Beginner / Intermediate</strong></p>
<p>Platform : <strong>Gnu/Linux | macOS | MS Windows | Android | BSD</strong></p>
<p>Last tested and confirmed : January 2022</p>
<hr>
<p>

<div class="alert alert-primary" role="alert">


    <strong>Wget</strong> is a cli-based software that retrieves web content, it supports HTTP, HTTPS, and FTP protocols.

</div>

<strong>One of Wget’s features</strong> is the ability to scan and index the entirety of a website and download a fully functional static clone of the original website.</p>
<p>The static clone can be later refreshed and updated with new content published to the original website.
While there are different ways of performing this task using Wget, you may get different results depending on your original website properties, including the CMS being used, the web server configurations, any kind of DDoS protection and online asset&rsquo;s protection e.g. images and videos.</p>
<hr>
<h3 id="install-wget">Install Wget</h3>
<p><strong>MS Windows</strong></p>
<ul>
<li>
<p><a href="https://chocolatey.org/install">Chocolatey</a> package manager for MS Windows</p>
<p><code>choco install wget</code></p>
</li>
</ul>
<p><strong>Gnu/Linux</strong></p>


<div class="alert alert-success" role="alert">
<h4 class="alert-heading">Note</h4>

    As Wget is a Gnu developed software, it’s available in most distributions main repositories, the installation process should be as simple as using your distribution’s package manager.

</div>

<blockquote>
<p>Examples</p>
</blockquote>
<ul>
<li>
<p><code>apt install wget</code></p>
</li>
<li>
<p><code>dnf install wget</code></p>
</li>
<li>
<p><code>pacman -S wget</code></p>
</li>
</ul>
<p><strong>macOS</strong></p>
<ul>
<li>
<p>Install using <a href="https://brew.sh/">Homebrew</a> package manager</p>
<p><code>brew install wget</code></p>
</li>
<li>
<p>Install using <a href="https://www.macports.org/install.php">Macports</a></p>
<p><code>port install wget</code></p>
</li>
</ul>
<hr>
<h3 id="pulling-the-website-to-your-local-machine">Pulling the website to your local machine</h3>


<div class="alert alert-success" role="alert">
<h4 class="alert-heading">Note</h4>

    We will be using some basic parameters for Wget which should work for the majority of websites, but you may need to refer to the <a href="https://www.gnu.org/software/wget/manual/wget.html">manual pages of Wget</a> in case of needing to do some tweaks or solve an issue with the resulting mirror.

</div>

<p><code>wget --mirror --convert-links --adjust-extension --page-requisites http://example.org</code></p>
<h5 id="parameters-and-options-description">Parameters and options description</h5>
<p><code>--mirror</code></p>
<p>Turn on options suitable for mirroring.  This option turns on recursion and time-stamping, sets infinite recursion depth and keeps FTP directory listings.</p>
<p>-<code>-convert-links</code></p>
<p>After the download is complete, convert the links in the document to make them suitable for local viewing.  This affects not only the visible hyperlinks, but any part of the document that links to external content, such as embedded images, links to style sheets, hyperlinks to non-HTML content, etc.</p>
<p><code>--adjust-extension</code></p>
<p>If some link points to <code>//foo.com/bar.cgi?xyz</code> with <code>--adjust-extension</code> asserted and its local destination is intended to be .<code>/foo.com/bar.cgi?xyz.css</code>, then the link would be converted to <code>//foo.com/bar.cgi?xyz.css</code>. Note that only the filename part has been modified. The rest of the URL has been left untouched, including the net path <code>(&quot;//&quot;)</code> which would otherwise be processed by Wget and converted to the effective scheme <code>(ie. &quot;http://&quot;)</code>.</p>
<p><code>--page-requisites</code></p>
<p>This option causes Wget to download all the files that are necessary to properly display a given HTML page.  This includes such things as inlined images, sounds, and referenced stylesheets.</p>
<hr>


<div class="alert alert-primary" role="alert">
<h4 class="alert-heading">Tip</h4>

    <a href="https://gitlab.com/gnuwget/wget2">Wget2</a> is currently being developed, while it’s not stable yet but it’s a full rewrite of the original Wget and meant to replace it in the near future. Wget2 comes with many new features such as HTTP/2.0 support and multi-threaded download which can make the process of pulling large websites way faster.

</div>



<div class="alert alert-warning" role="alert">
<h4 class="alert-heading">Note</h4>

    For websites operating behind Cloudflare, this process can be identified as malicious behaviour as many simultaneous requests are coming from one IP address in short intervals, this can result in partial downloads or failing to download some assets such as inline images and CSS files.

</div>

<p><strong>This can be solved</strong> by either <strong>whitelisting your IP address on Cloudflare</strong> and disable assets protection features during the crawling process, or configure the origin server to <strong>allow direct access</strong> on a different domain/sub-domain with <a href="https://en.wikipedia.org/wiki/Basic_access_authentication">basic authentication</a> enabled, you can then add <code>--http-user=[HTTP-USER]</code> <code>--http-passwd=[HTTP-PASSWORD]</code> parameters to your Wget command to authenticate.</p>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-d0e1760e35f1d241942e0213bec5fedf">3.2 - HTTrack</h1>
    <div class="lead">Use <a href="https://www.httrack.com/">HTTrack</a> to create a static clone of a website</div>
	<p>Required expertise level : <strong>Beginner / Intermediate</strong></p>
<p>Platform : <strong>Gnu/Linux | macOS | MS Windows | Android | BSD</strong></p>
<p>Last tested and confirmed : January 2022</p>
<hr>


<div class="alert alert-primary" role="alert">


    <p><strong>HTTrack</strong> is a free software developed for the specific purpose of downloading fully functional offline copies of any website.</p>
<blockquote>
<p>It has many advantages over Wget, and offers a graphical user interface. While it’s not being updated since 2017, it proofed to be efficient in most use cases in our testing scenarios.</p>
</blockquote>


</div>

<h3 id="install-httrack">Install HTTrack</h3>
<p><strong>Windows</strong></p>
<ul>
<li>
<p><a href="https://chocolatey.org/install">Chocolatey</a> package manager for MS Windows</p>
<p><code>choco install httrack</code></p>
</li>
<li>
<p>Or you can download the installation file <a href="https://www.httrack.com/page/2/en/index.html">here</a></p>
</li>
</ul>
<p><strong>Gnu/Linux</strong></p>


<div class="alert alert-primary" role="alert">


    Since HTTrack is available in most major distributions main repositories, you can use your package manager to directly install the compiled version.

</div>

<blockquote>
<p>Example</p>
</blockquote>
<ul>
<li><code>apt install httrack</code></li>
<li><code>dnf install httrack</code></li>
<li><code>pacman -S httrack</code></li>
</ul>


<div class="alert alert-primary" role="alert">


    In this <a href="https://www.httrack.com/page/2/en/index.html">page</a> you can find instructions on downloading and building HTTrack from source.

</div>



<div class="alert alert-primary" role="alert">
<h4 class="alert-heading">Note</h4>

    Also, a version with a graphical user interface exists for Gnu/Linux but still in beta, you can find the source <a href="https://sourceforge.net/projects/httraqt/">here</a>

</div>

<p><strong>macOS</strong></p>
<ul>
<li>
<p>Using Homebrew package manager</p>
<p><code>brew install httrack</code></p>
</li>
<li>
<p>Using Macports</p>
<p><code>sudo port install httrack</code></p>
</li>
</ul>
<hr>
<h3 id="pulling-the-website-to-your-local-machine">Pulling the website to your local machine</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>httrack --mirror --robots<span style="color:#ff79c6">=</span><span style="color:#bd93f9">0</span> --stay-on-same-domain --user-agent <span style="color:#f1fa8c">&#34;Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:63.0) Gecko/20100101 Firefox/63.0&#34;</span>  --keep-links<span style="color:#ff79c6">=</span><span style="color:#bd93f9">0</span> --path example.org --quiet https://example.org/ -* +example.org/*
</span></span></code></pre></div><h5 id="parameters-and-options-description">Parameters and options description</h5>
<p><code>--mirror</code></p>
<p>Mirror websites</p>
<p><code>--robots=0</code></p>
<p>Follow robots.txt and meta  robots  tags  (0=never,1=sometimes,*  2=always,  3=always  (even strict rules)) (&ndash;robots[=N])</p>
<p><code>--stay-on-same-domain</code></p>
<p>Stay on the same principal domain</p>
<p><code>--user-agent &quot;Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:63.0) Gecko/20100101 Firefox/63.0&quot;</code></p>
<p>User-agent field sent in HTTP headers</p>
<p><code>--keep-links=0</code></p>
<p>keep  original  links  (e.g.  <a href="http://www.adr/link">http://www.adr/link</a>)  (<code>--keep-links=0</code> *relative link, <code>--keep-links</code> absolute links, <code>--keep-links=4</code> original links, <code>--keep-links=3</code> absolute URI links, <code>--keep-links=5</code> transparent proxy link)</p>
<p><code>--path example.org</code></p>
<p>Path for mirror/logfiles+cache (<code>--path</code> mirror[,path cache and logfiles])</p>
<p><code>--quiet</code></p>
<p>no questions - quiet mode</p>
<p><code>https://example.org/ -*</code></p>
<p>Replace example.org with the website you want to mirror</p>
<p><code>+example.org/*</code></p>
<p>HTTrack will crawl and scan the whole website, renders every and save it locally to your machine in an offline browsable form. The suggested combination of arguments will convert the inline URLs to relative links which can be hosted virtually anywhere.</p>
<p><code>httrack --continue</code></p>
<p>In case of intercepted or uncompleted download process HTTrack will use the cache to resume the download process and make sure it won’t include re-downloading the same unchanged assets.</p>
<p><code>httrack --update</code></p>
<hr>
<blockquote>
<p>Here we need to consider a very important note about how HTTrack functions.</p>
</blockquote>
<p><strong>Normally</strong> there will be a cached version of all downloaded assets saved in a directory under the main project’s directory named hts-cache, the cache will be used in every update presumably to avoid having to crawl and download the whole website with every update, which can be a very time-consuming process especially with big websites.</p>
<p><strong>However</strong>, in our testing with different websites of different sizes and structures, the real-life scenario turned to be different from what the software documentations provides.</p>


<div class="alert alert-primary" role="alert">


    <em>For example</em> with a big WordPress website running relatively recent version of Nginx web server and operating behind a Cloudflare proxy, the cache never helped to reduce the update times needed to refresh the static copy with new published content and HTTrack was almost crawling all over the website with every update.

</div>

<p>This can be connected with many elements, among them will that HTTrack is a relatively old software which didn’t receive any updates since 2017 therefore it’s support for the most recent changes in the web structure and technologies isn’t the best.</p>
<p><strong>One other element</strong> <em>which will cause great impact and change of behavior in any tools doing the same functionality,</em> will be dealing with different configuration and installations of Web servers, CMS, and security measurements.</p>
<p><strong>We encourage</strong> you to dig deeper in HTTrack documentation to find options and arguments which can help to find the best suited configuration for your setup.</p>


<div class="alert alert-primary" role="alert">
<h4 class="alert-heading">Note</h4>

    When using HTTrack <em>- and almost any website downloader -,</em> while you are using Cloudflare proxy and DDoS protection for your website, it’s highly important to set a <code>user-agent</code> in the arguments and make sure the chosen <code>user-agent</code> isn’t blocked in the security settings in your web server and Cloudflare.

</div>



<div class="alert alert-primary" role="alert">
<h4 class="alert-heading">Note</h4>

    <p><strong>With big websites</strong>, many security settings and tools might identify the constant crawling and multiple hits in short time intervals as malicious behavior and block or throttle your IP address&rsquo;s connection to the website.</p>
<p><strong>In that case</strong> you should revise your security settings and find the maximum allowed connections then you can use arguments like <code>--max-rate=N</code>, <code>--connection-per-second=N</code>, <code>--max-pause=N</code> to limit HTTrack traffic hitting your website to the maximum allowed numbers.</p>
<p>Also, you should consider whitelisting your IP address in your security settings if the option exists.</p>


</div>


</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-70a5c6d3ecf0ae030976ff21a30d6cea">3.3 - WordPress Plugins</h1>
    <div class="lead">Testing multiple WordPress plugins to generate a static mirror.</div>
	<p>Required expertise level : <strong>Beginner / Intermediate</strong></p>
<p>Platform : <strong>Gnu/Linux | macOS | MS Windows | BSD</strong></p>
<p>Last tested and confirmed : January 2022</p>
<hr>
<h2 id="wp2statichttpsgithubcomwp2static"><a href="https://github.com/WP2Static">WP2Static</a></h2>
<p><img src="../images/wp2static/1.png" alt="">WP2Static options</p>
<blockquote>
<p>WP2Static can be considered as the most optimal plugin for the purpose of generating and updating a static mirror.</p>
</blockquote>
<p>This plugin also offers different deployment sub-plugins which can configure direct deployments to platforms like Amazon S3 and GitHub.</p>
<p><strong>However</strong>, it&rsquo;s plugin development process itself doesn’t seem to be stable, at the time of writing these documentations, it appears to be transitioning to a new approach and undergoing big changes.</p>
<p><a href="https://wordpress.org/plugins/static-html-output-plugin/">An old version of the plugin</a> was recently flagged as closed in WordPress’s plugins platform, and the developed published his <a href="https://staticword.press/t/removal-of-wp2static-from-wordpress-org/159">reasoning</a> behind this approach.</p>
<p><strong>Two different versions</strong> of the plugin however will continue to be available through the developer&rsquo;s <a href="https://wp2static.com/">website</a> and <a href="https://github.com/WP2Static">GitHub repository</a>.</p>
<p>The <strong>old version</strong> renamed as <a href="https://github.com/WP2Static/static-html-output-plugin">static-html-output-plugin</a>, will be available pre-built and ready to install on the website download section.</p>
<p>The <strong>new version</strong> named as <a href="https://github.com/WP2Static/wp2static">WP2Static</a>, while still being considered as <strong>experimental</strong>, it performed well in our testing <strong><em>but it needs to be built from the source before installing on WordPress.</em></strong></p>
<hr>
<h3 id="downloading-and-building-the-new-plugin">Downloading and building the new plugin</h3>
<ul>
<li>
<p>Clone the repository.</p>
<p><code>git clone https://github.com/WP2Static/wp2static.git</code></p>
</li>
<li>
<p>Install <a href="https://getcomposer.org/">Composer</a> and PHP on your local machine.</p>
</li>
<li>
<p>Move to the plugins source code directory.</p>
</li>
<li>
<p>Build the plugin using</p>
<p><code>composer install</code></p>
</li>
<li>
<p>Compress the plugin directory into a .zip archive, you should find the resulted archive in your home directory under <code>/Downloads</code>.</p>
<p><code>composer build wp2static.zip</code></p>
</li>
</ul>


<div class="alert alert-primary" role="alert">
<h4 class="alert-heading">Note</h4>

    <p><strong>Same steps are required</strong> for each sub-plugin which you will need for automating deployments to differant hosting platforms such as Amazon S3 or GitHub.</p>
<ul>
<li>
<p>Sub-plugins should be installed manually as separate plugins on WordPress.</p>
</li>
<li>
<p>Sub-plugins will show under Add-Ons section in WP2Static settings and needs to be enabled and configured.</p>
</li>
</ul>


</div>

<hr>
<h3 id="wp2static-settings-and-configuration">WP2Static settings and configuration</h3>
<p><img src="../images/wp2static/2.png" alt="">Select which content types should be included in the mirror, and the deployment URL</p>
<p><img src="../images/wp2static/3.png" alt="">After installing any deployment Add-On it should be displayed here</p>
<p><img src="../images/wp2static/4.png" alt="">Example for Amazon S3 deployment Add-On options</p>
<p><img src="../images/wp2static/5.png" alt="">Here you will find useful diagnostic information about your installation and it&rsquo;s compatibility with the plugin requirements</p>
<h2 id="simply-statichttpswordpressorgpluginssimply-static"><a href="https://wordpress.org/plugins/simply-static/">Simply static</a></h2>
<p><img src="../images/simplystatic/1.png" alt="">Simply Static options</p>
<p><strong>Simply Static</strong> is a WordPress Plugin with similar functionality to WP2Static. However, it comes with fewer features and might not fit the needs of a big and/or very frequently updated website, as for example, it doesn’t support incremental builds for the static mirror, which means it needs to go through the whole process every time a build is triggered.</p>
<p>Furthermore, Simply Static doesn’t support automatic builds triggering with every new post, so a new build can only be triggered manually, which makes this plugin more fit for small blogs or rarely updated websites.</p>
<h3 id="simply-static-settings-and-configuration">Simply Static settings and configuration</h3>
<p><img src="../images/simplystatic/2.png" alt="">Simply Static options</p>


<div class="alert alert-primary" role="alert">
<h4 class="alert-heading">Note</h4>

    <ul>
<li>
<p>You can set the <code>Delivery Method</code> to <code>Local Directory</code> to have the generated static files stored on the same server/machine</p>
</li>
<li>
<p>Make sure the web-server user have write privileges on the selected directory</p>
</li>
<li>
<p>If you are planning on hosting your static website on an object storage platform such as S3, you should make sure to <code>Use relative URLs</code></p>
</li>
</ul>


</div>

<p><img src="../images/simplystatic/3.png" alt="">Here you will find useful diagnostic information about your installation and it&rsquo;s compatibility with the plugin requirements</p>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-3a95e807cc1878209010f0ddfd4e89d3">3.4 - Static mirror hosting</h1>
    <div class="lead">A guide on hosting the static mirror on various platforms.</div>
	

<div class="pageinfo pageinfo-primary">
<p>In this section, we will go through some of the cloud service providers which offers the functionality of hosting and serving a static website.</p>

</div>


</div>



    
      
  
  
  
  

  
  

  
    
    
	
    

<div class="td-content" style="">
    
	<h1 id="pg-5bc80f644e49026a7c52f3e47cbe2636">3.4.1 - Hosting on Amazon S3</h1>
    <div class="lead">A guide on hosting a static website on Amazon S3.</div>
	<p>Required expertise level : <strong>Intermediate</strong></p>
<p>Platform : <strong>Any</strong></p>
<p>Last tested and confirmed : January 2022</p>
<hr>


<div class="alert alert-primary" role="alert">


    <blockquote>
<p><strong>Amazon S3</strong> (Amazon Simple Storage Service) is a data storage service and one of the Amazon Web Services (AWS)</p>
</blockquote>


</div>

<p>S3 provides <strong>object storage</strong> service, which means that data is stored and addressed as objects, each object contains it&rsquo;s own data in addition to meta-data and a unique identifier.</p>
<p><strong>Object storage</strong> is often used to store big amounts of data that doesn&rsquo;t need the features and structure of the file systems hierarchy.</p>
<p>The <strong>main</strong> advantage of using S3 to host our static mirror is the ability to serve a fully functional <strong>&ldquo;static&rdquo;</strong> web pages directly from Amazon S3 URLs which consists of <code>[bucketname]+[endpoint]</code> or <code>[endpoint]/[bucketname]</code> ex: <code>mybucket.s3.us-east-2.amazonaws.com</code> or <code>https://s3.us-east-2.amazonaws.com/mybucket</code></p>
<hr>
<h2 id="configure-static-site-hosting-on-s3">Configure static site hosting on S3</h2>
<h3 id="creating-s3-bucket-and-setting-configurations-for-static-site-hosting">Creating S3 bucket, and setting configurations for Static Site hosting</h3>
<ul>
<li><strong>First,</strong> you need to create an account on <strong><a href="https://aws.amazon.com/">Amazon Web Services (AWS)</a></strong>, and then, <strong>sign in</strong> to <strong><a href="https://signin.aws.amazon.com">AWS Console</a>.</strong></li>
</ul>
<p><img src="../images/hosting-s3/1.png" alt="">AWS login page</p>
<ul>
<li>In <strong><a href="https://s3.console.aws.amazon.com">S3 management console</a></strong>, create a new bucket.</li>
</ul>
<p><img src="../images/hosting-s3/2.png" alt="">S3 management console</p>


<div class="alert alert-primary" role="alert">
<h4 class="alert-heading">Note</h4>

    You should pick a unique name for your bucket.

</div>

<p><img src="../images/hosting-s3/3.png" alt="">S3 new bucket</p>
<ul>
<li>In <strong>Set permissions</strong> tab, uncheck <strong><input disabled="" type="checkbox"> Block <em>all</em> public access</strong>, and confirm that you want to enable public access to the bucket.</li>
</ul>
<p><img src="../images/hosting-s3/4.png" alt="">Bucket permission tab</p>
<ul>
<li><strong>Finally,</strong> review your options and <strong>create</strong> the new bucket.</li>
</ul>
<p><img src="../images/hosting-s3/5.png" alt="">Create bucket</p>
<ul>
<li>Your newly created bucket should appear in this form.</li>
</ul>
<p><img src="../images/hosting-s3/6.png" alt=""></p>
<ul>
<li>Head to the new bucket&rsquo;s settings by clicking on the bucket name.</li>
</ul>
<p><img src="../images/hosting-s3/7.png" alt="">S3 bucket settings</p>
<ul>
<li>In <strong>Properties</strong> tab click on <strong>Static website hosting</strong></li>
</ul>
<p><img src="../images/hosting-s3/8.png" alt="">S3 bucket Properties</p>
<ul>
<li>After setting <strong>Use this bucket to host a website</strong>, you need to set the <strong>path</strong> for your <code>index.html</code>(main page), <strong>optionally</strong> you can set a custom <code>error.html</code> page, and click <strong>save</strong>.</li>
</ul>
<p><img src="../images/hosting-s3/9.png" alt="">S3 Static website hosting</p>
<p><img src="../images/hosting-s3/10.png" alt="">S3 enabled Static website hosting</p>


<div class="alert alert-primary" role="alert">


    Now, we need to set the <strong>bucket permissions policy</strong> to allow public read for all objects.

</div>

<ul>
<li>Head to <strong>Permissions</strong> tab, and click on <strong>Bucket Policy</strong>.</li>
</ul>
<p><img src="../images/hosting-s3/11.png" alt="">S3 bucket policy</p>
<ul>
<li>The simplest form of static website hosting policy on S3 should look like this.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">&#34;Version&#34;</span>: <span style="color:#f1fa8c">&#34;2012-10-17&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">&#34;Statement&#34;</span>: [
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            <span style="color:#ff79c6">&#34;Sid&#34;</span>: <span style="color:#f1fa8c">&#34;PublicReadGetObject&#34;</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#ff79c6">&#34;Effect&#34;</span>: <span style="color:#f1fa8c">&#34;Allow&#34;</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#ff79c6">&#34;Principal&#34;</span>: <span style="color:#f1fa8c">&#34;*&#34;</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#ff79c6">&#34;Action&#34;</span>: [
</span></span><span style="display:flex;"><span>                <span style="color:#f1fa8c">&#34;s3:GetObject&#34;</span>
</span></span><span style="display:flex;"><span>            ],
</span></span><span style="display:flex;"><span>            <span style="color:#ff79c6">&#34;Resource&#34;</span>: [
</span></span><span style="display:flex;"><span>                <span style="color:#f1fa8c">&#34;arn:aws:s3:::example.com/*&#34;</span>
</span></span><span style="display:flex;"><span>            ]
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    ]
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div>

<div class="alert alert-warning" role="alert">
<h4 class="alert-heading">Note</h4>

    In this example bucket policy <code>example.com</code> is the bucket name. To use this policy example you need to replace <code>example.com</code> with your newly created bucket name in the <code>&quot;Resources&quot;</code> key value.

</div>



<div class="pageinfo pageinfo-primary">
<p>Now, we are ready to upload our <strong>static mirror</strong> to our S3 bucket.</p>

</div>

<h3 id="upload-using-the-web-user-interface">Upload using the Web user interface</h3>
<ul>
<li>You will find the upload option in the bucket settings page.</li>
</ul>
<p><img src="../images/hosting-s3/12.png" alt="">S3 files upload</p>
<ul>
<li>Make sure <strong>grant public read access</strong> to the uploaded files in the permissions tab.</li>
</ul>
<p><img src="../images/hosting-s3/13.png" alt="">S3 files upload permissions</p>


<div class="alert alert-warning" role="alert">
<h4 class="alert-heading">Note</h4>

    <strong>While</strong> you can easily upload your website files directly in the browser by clicking on <strong>Upload</strong> in the bucket settings page, it&rsquo;s preferred to use <strong>AWS CLI</strong>, specially if when you are uploading large websites.

</div>

<hr>
<h4 id="install-aws-command-line-interfacehttpsdocsawsamazoncomclilatestuserguideinstall-cliv2html"><a href="https://docs.aws.amazon.com/cli/latest/userguide/install-cliv2.html">Install AWS Command Line Interface</a></h4>
<ul>
<li>
<p><strong>MS Windows</strong></p>
<ul>
<li><strong><a href="https://awscli.amazonaws.com/AWSCLIV2.msi">Download</a></strong> and install the official installation file</li>
<li>Install using <strong><a href="https://chocolatey.org/packages/awscli">Chocolatey</a></strong> windows package manager <code>choco install awscli</code></li>
</ul>
</li>
<li>
<p><strong>Gnu/Linux</strong></p>
<ul>
<li><strong>Normally,</strong> you will fine AWS CLI package available in your distribution software repositories, in that case you can simply use your package manager to install it directly. ex: <code>apt install awscli</code></li>
<li>If that&rsquo;s not the case, you can install it <strong>manually</strong> by executing these commands in your terminal in their respective order.</li>
</ul>
</li>
</ul>
<p><strong>Linux x86 (64-bit)</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>curl <span style="color:#f1fa8c">&#34;https://awscli.amazonaws.com/awscli-exe-linux-x86_64.zip&#34;</span> -o <span style="color:#f1fa8c">&#34;awscliv2.zip&#34;</span>
</span></span><span style="display:flex;"><span>unzip awscliv2.zip
</span></span><span style="display:flex;"><span>sudo ./aws/install
</span></span></code></pre></div><p><strong>Linux ARM</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>curl <span style="color:#f1fa8c">&#34;https://awscli.amazonaws.com/awscli-exe-linux-aarch64.zip&#34;</span> -o <span style="color:#f1fa8c">&#34;awscliv2.zip&#34;</span>
</span></span><span style="display:flex;"><span>unzip awscliv2.zip
</span></span><span style="display:flex;"><span>sudo ./aws/install
</span></span></code></pre></div><ul>
<li><strong>macOS</strong>
<ul>
<li>Install using <strong><a href="https://docs.brew.sh/Installation">Homebrew</a></strong> package manager. <code>brew install awscli</code></li>
</ul>
</li>
</ul>
<hr>
<h3 id="upload-using-aws-cli">Upload using AWS CLI</h3>
<ul>
<li>First, you should configure <code>awscli</code> and grant it access to your AWS account, for that you will need to get your <strong>AWS Access Key ID</strong> and <strong>Secret Access Key</strong>, you can create new Access Keys by going to <a href="https://console.aws.amazon.com/iam/home?#/security_credentials">AWS IAM (Identity and Access Management) Dashboard</a>.</li>
</ul>


<div class="alert alert-warning" role="alert">
<h4 class="alert-heading">Alert</h4>

    Make sure to store the generated keys <strong>securely</strong> and don&rsquo;t share them over unsecured medium, the keys can be used to gain access to your AWS account data.

</div>

<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>awscli configure
</span></span></code></pre></div><p><img src="../images/hosting-s3/14.png" alt=""></p>
<ul>
<li>
<p>ِMove to the website local directory.</p>
</li>
<li>
<p>Upload your files by executing <strong><strong>replace [bucket-name] with the name of the bucket you created on S3</strong></strong></p>
</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>aws s3 sync . s3://<span style="color:#ff79c6">[</span>bucket-name<span style="color:#ff79c6">]</span>/
</span></span></code></pre></div>

<div class="pageinfo pageinfo-primary">
<p>Now you can test your new static mirror, you&rsquo;ll find the website URL in <strong>bucket settings &gt; Properties &gt; Static website hosting</strong></p>

</div>

<p><img src="../images/hosting-s3/15.png" alt="Find the configured URL for your website here">Find the configured URL for your website here</p>


<div class="alert alert-primary" role="alert">
<h4 class="alert-heading">Note</h4>

    Note that the provided URL here is <a href="http://mystaticwebsitetest.s3-website.us-east-2.amazonaws.com">http://mystaticwebsitetest.s3-website.us-east-2.amazonaws.com</a> can only be accessed on plain-text HTTP protocol

</div>

<p><img src="../images/hosting-s3/16.png" alt=""></p>
<p>Now, there are two different URL structures which allows accessing your static website on the secure protocol HTTPS</p>
<ul>
<li>Bucket name as a sub-domain  <code>https://[mystaticwebsitetest].s3.us-east-2.amazonaws.com</code></li>
</ul>
<p><img src="../images/hosting-s3/17.png" alt=""></p>
<ul>
<li>Bucket name in the path <code>https://s3.us-east-2.amazonaws.com/[mystaticwebsitetest]</code></li>
</ul>
<p><img src="../images/hosting-s3/18.png" alt=""></p>


<div class="alert alert-primary" role="alert">
<h4 class="alert-heading">Note</h4>

    <p>While both methods may achieve same results, it&rsquo;s preferred <strong>in censorship circumvention context</strong> to include the bucket name in the path as in <strong>method number 2</strong>.</p>
<p>AWS uses a <strong><a href="https://en.wikipedia.org/wiki/Wildcard_certificate">Wildcard SSL certificate</a></strong> which supports any sub-domain under <code>*.s3.us-east-2.amazonaws.com</code>, but defining the bucket name in the URL path would make it more difficult to detect traffic to this particular bucket/region/endpoint through <strong><a href="https://en.wikipedia.org/wiki/Deep_packet_inspection">Deep Packet Inspection(DPI)</a></strong></p>


</div>


</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-ea6a8581204ef24376253271090c5a26">3.4.2 - Hosting on Google Cloud Storage</h1>
    <div class="lead">A guide on hosting a static website on Google Cloud Storage.</div>
	<p>Required expertise level : <strong>Intermediate</strong></p>
<p>Platform : <strong>Any</strong></p>
<p>Last tested and confirmed : January 2022</p>
<hr>


<div class="alert alert-primary" role="alert">


    <blockquote>
<p><strong>Google Cloud Storage</strong> is <strong>object storage service</strong> similar to Amazon S3, and it provides the ability to serve static web pages as well.</p>
</blockquote>


</div>

<p>The <strong>main</strong> advantage of using Google Cloud Storage to host our static mirror is the ability to serve a fully functional <strong>&ldquo;static&rdquo;</strong> web pages directly using Google Cloud Platform URLs which usually looks like this: <code>https://storage.googleapis.com/[bucketname]</code></p>
<hr>
<h2 id="configure-static-site-hosting-on-google-cloud-storage">Configure static site hosting on Google Cloud Storage</h2>
<h3 id="creating-gcs-bucket-and-setting-permissions">Creating GCS bucket, and setting permissions</h3>
<ul>
<li><strong>First,</strong> you need to create an account on <strong><a href="https://cloud.google.com/">Google Cloud Platform</a></strong>, you will need to create a Google account for this.</li>
</ul>


<div class="alert alert-primary" role="alert">
<h4 class="alert-heading">Note</h4>

    <strong>While it&rsquo;s possible to use a pre-existing Google account for this step, it&rsquo;s better to create a new one just for this purpose</strong>.

</div>

<p><img src="../images/hosting-gcs/1.png" alt=""></p>
<ul>
<li>Log in to <strong><a href="https://console.cloud.google.com/">Google Cloud Console</a></strong> using your newly created account.</li>
</ul>
<p><img src="../images/hosting-gcs/2.png" alt=""></p>
<ul>
<li>Here, you&rsquo;ll need to open <strong>Storage</strong> from the side bar to access <a href="https://console.cloud.google.com/storage"><strong>Google Cloud Storage</strong></a> settings page.</li>
</ul>
<p><img src="../images/hosting-gcs/3.png" alt="">Create a new bucket here</p>
<p><img src="../images/hosting-gcs/4.png" alt="">Buck name</p>
<ul>
<li>First step will be choosing your bucket name, <strong>bucket names should be unique and you&rsquo;ll use it to access your static website later</strong>.</li>
</ul>
<p><img src="../images/hosting-gcs/5.png" alt="">Region settings</p>
<ul>
<li>Unless you know what you are doing, there is no need to change anything here.</li>
</ul>
<p><img src="../images/hosting-gcs/6.png" alt="">Storage Class</p>
<ul>
<li>In most cases it should be <strong>Standard</strong>.</li>
</ul>
<p><img src="../images/hosting-gcs/7.png" alt="">Access control</p>
<ul>
<li>We will be handling permissions and access control configurations later on, so we&rsquo;ll leave it unchanged for now.</li>
</ul>
<p><img src="../images/hosting-gcs/8.png" alt="">Encryption</p>
<ul>
<li>As this bucket will be publicly available, we don&rsquo;t need to change anything with Encryption settings.</li>
</ul>


<div class="alert alert-primary" role="alert">


    <strong>Now, we can go proceed to the new bucket settings page.</strong>

</div>

<p><img src="../images/hosting-gcs/9.png" alt=""></p>
<hr>
<h3 id="upload-the-static-website">Upload the static website</h3>


<div class="alert alert-primary" role="alert">


    <strong>While you can upload your static website using the web interface, it&rsquo;s preferred to do that using Google Cloud SDK, specially if you are planning on updating your mirror with new content frequently.</strong>

</div>

<h4 id="install-google-cloud-sdk-command-line-interfacehttpscloudgooglecomsdkinstall"><a href="https://cloud.google.com/sdk/install">Install Google Cloud SDK Command Line Interface</a></h4>
<p><strong>Installing Google Cloud SDK</strong> is pretty straight forward process. Simply, follow the instructions related to your operating system in this <a href="https://cloud.google.com/sdk/install"><strong>guide</strong></a> and you will be good to go.</p>
<h3 id="upload-using-google-cloud-sdk-cli">Upload using Google Cloud SDK CLI</h3>
<ul>
<li>After installing Google Cloud Sdk, you will need to authorize the local client to connect to you Google Cloud account, you can do that by opening your terminal and entering <code>gcloud init</code></li>
</ul>
<p><img src="../images/hosting-gcs/10.png" alt=""></p>
<ul>
<li>After <strong>Successfully logging in to your account</strong>, you will be asked to select the project you want to use, if you didn&rsquo;t create a new project you can do that now using the local CLI.</li>
</ul>
<p><img src="../images/hosting-gcs/11.png" alt=""></p>


<div class="alert alert-primary" role="alert">


    <strong>Now, you can use your local CLI to upload the static mirror to the newly created bucket.</strong>

</div>

<ul>
<li>Using your terminal, change directory to the static mirror files location, and enter <code>gsutil rsync -R [local-dir] gs://[bucketname]</code></li>
</ul>


<div class="alert alert-warning" role="alert">
<h4 class="alert-heading">Note</h4>

    <strong>Replace <code>[local-dir]</code> with the static mirror directory name and <code>[bucketname]</code> with the bucket name.</strong>

</div>

<p><img src="../images/hosting-gcs/12.png" alt="">Uploading files</p>
<ul>
<li>Now if you go to your bucket settings page, you will notice the static mirror files are uploaded.</li>
</ul>
<p><img src="../images/hosting-gcs/13.png" alt=""></p>
<ul>
<li>Final step will be <strong>setting public permissions</strong> to the files so the static mirror will be accessible to public internet, you can do that using the local CLI by entering <code>gsutil iam ch allUsers:objectViewer gs://[bucketname]</code></li>
</ul>


<div class="alert alert-warning" role="alert">
<h4 class="alert-heading">Note</h4>

    <strong>Replace <code>[bucketname]</code> with your bucket name.</strong>

</div>

<p>Now you can access your static mirror using this URL scheme <code>https://storage.googleapis.com/[bucketname]/index.html</code></p>


<div class="alert alert-warning" role="alert">
<h4 class="alert-heading">Note</h4>

    <strong>Replace <code>[bucketname]</code> with your bucket name.</strong>

</div>

<p><img src="../images/hosting-gcs/14.png" alt=""></p>


<div class="alert alert-primary" role="alert">
<h4 class="alert-heading">Updating the static mirror</h4>

    <strong>Updating your static mirror with new content</strong> will be as simple as going to the mirror&rsquo;s local directory on your terminal and executing <code>gsutil rsync -R [local-dir] gs://[bucketname]</code> every time.

</div>


</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-57dae832f11c9e2186ac568884cdf639">3.4.3 - Hosting on GitHub</h1>
    <div class="lead">A guide on hosting a static website on GitHub.</div>
	<p>Required expertise level : <strong>Intermediate</strong></p>
<p>Platform : <strong>Any</strong></p>
<p>Last tested and confirmed : January 2022</p>
<hr>


<div class="alert alert-primary" role="alert">


    <blockquote>
<p><strong>GitHub</strong> is <strong>a software development platform</strong> using Git version control system, and it provides the ability to serve static web pages through <a href="https://pages.github.com/"><strong>GitHub Pages service</strong></a>.</p>
</blockquote>


</div>



<div class="alert alert-warning" role="alert">
<h4 class="alert-heading">Note</h4>

    GitHub provides an easy <a href="https://pages.github.com/"><strong>step-by-step guide</strong></a> on how to host a static website on their platform.
The guide is available in English, so, in order to avoid redundancy we&rsquo;ll just refer to it here and add a translated version for every available language in our documentations.

</div>

<hr>
<h2 id="install-git">Install Git</h2>
<ul>
<li>
<p><strong>MS Windows</strong></p>
<ul>
<li><strong><a href="https://git-scm.com/download/win">Download</a></strong> and install the official installation file</li>
<li>Install using <strong><a href="https://chocolatey.org/packages/git">Chocolatey</a></strong> windows package manager <code>choco install git</code></li>
</ul>
</li>
<li>
<p><strong>Gnu/Linux</strong></p>
<ul>
<li><strong>Normally,</strong> you will fine Git package available in your distribution software repositories, in that case you can simply use your package manager to install it directly. ex: <code>apt install git</code></li>
</ul>
</li>
<li>
<p><strong>macOS</strong></p>
<ul>
<li>Install using <strong><a href="https://docs.brew.sh/Installation">Homebrew</a></strong> package manager. <code>brew install git</code></li>
</ul>
</li>
</ul>

</div>



    
	
  

    
	
  

    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-8cf7abe4fa02838e264baf815995e9c4">4 - Dynamic Mirroring</h1>
    <div class="lead">What is dynamic mirroring?</div>
	<h3 id="what-is-dynamic-mirroring">What is dynamic-mirroring</h3>
<blockquote>
<p><strong>There are multiple ways of mirroring a dynamic website.</strong></p>
</blockquote>
<p><strong>One of these ways will be</strong> creating a reverse-proxy server which acts as a middle box between the client and the origin server which hosts the website.</p>
<p>The server in the middle will get the required URL from the client and contact the origin server to fetch the content and serve it to the user.</p>
<p>In this method the <strong>reverse-proxy server</strong> will be reachable through a domain-name which isn’t blocked, this method is relatively easy to implement, but it can be easily blocked by blocking the domain name or the IP address of the proxy server.</p>
<p><strong>Another method will be</strong> hosting a full copy of the original blocked website on the server and keeping it synchronized with the original server.</p>
<p>This method needs certain access privileges to the origin server and it holds the same disadvantages of the first method. In many cases you can just keep changing the mirror server’s domain name and IP address whenever it gets blocked, but that can be inefficient in terms of both financial costs and usability.</p>
<p><strong>In our documentations</strong>, we will try to introduce different methods of dynamic mirroring, either by creating a proxy service hosted on <strong><a href="https://cloud.google.com/appengine">Google App Engine</a></strong> using <strong><a href="../docs/dynamic-mirroring/decoy/">Decoy</a></strong>, or creating Onion service mirror on Tor network using <strong><a href="https://github.com/alecmuffett/eotk">EOTK - The Enterprise Onion Toolkit</a></strong>.</p>

</div>



    
      
  
  
  
  

  
  

  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-581e176e3693d7a01cbf9e3af64f2412">4.1 - Decoy</h1>
    <div class="lead">Reverse-proxy written in python and ready to deploy on Google App Engine platform.</div>
	<p>Required expertise level : <strong>Intermediate / Advanced</strong></p>
<p>Platform : <strong>Gnu/Linux | macOS | MS Windows | Android | BSD</strong></p>
<p>Last tested and confirmed : March 2022</p>
<hr>


<div class="pageinfo pageinfo-primary">
<p>Decoy is a reverse-proxy written in python and ready to deploy on Google App Engine platform. It can be configured to serve a specific website through App Engine.</p>

</div>

<p>The main advantage Decoy provides is the ability to serve the configured website through <a href="https://cloud.google.com/appengine">GAE platform - Google App Engine</a>, using a sub-domain under <code>*.appspot.com</code>.</p>
<p><strong>Decoy will proxy all URLs which contains the configured domain in <code>config.py</code> file automatically, any other URL will be opened normally without proxy.</strong></p>
<h2 id="usage">Usage</h2>
<ol>
<li>
<p>Clone the project</p>
<p><code>git clone https://github.com/icaruslab/decoy.git</code></p>
</li>
<li>
<p>Create an account on <a href="https://cloud.google.com/">Google Cloud Platform</a></p>
</li>
<li>
<p>After accessing <a href="https://console.cloud.google.com/">Google Cloud Console</a> create a new project</p>
</li>
</ol>
<p><img src="../images/decoy/1.png" alt="">New Project</p>


<div class="alert alert-warning" role="alert">
<h4 class="alert-heading">Note</h4>

    The project name should be unique, if that&rsquo;s the case the project ID will be the same, other wise it will be assigned a random name. The project ID will be used to access your mirror, final URL will be <code>[ProjectID.appspot.com]</code>

</div>

<ol start="4">
<li>Install <a href="https://cloud.google.com/sdk/install">Google Cloud SDK</a></li>
<li>Replace the <code>url</code> variable in <code>config.py</code> with your website domain name</li>
<li>Use your terminal to go the project&rsquo;s directory</li>
<li>Run <code>gcloud init</code> to configure GCloud SDK and login to your account.</li>
<li>Select the project you created earlier using <code>gcloud config set project [ProjectID]</code></li>
</ol>
<p><img src="../images/decoy/2.png" alt="">Set project ID</p>
<ol start="9">
<li>Run <code>gcloud app deploy</code> and follow the instructions to deploy the app</li>
</ol>
<p><img src="../images/decoy/3.png" alt="">Deploy</p>
<ol start="10">
<li>Finally you can confirm your mirror is running by visiting <code>[youprojectname].appspot.com</code></li>
</ol>
<p><img src="../images/decoy/4.png" alt=""></p>
<h2 id="why-google-app-engine">Why Google App Engine?</h2>
<p><strong>The main advantage</strong> of having the mirror traffic routed through GAE, is the ability to use a sub-domain under <code>appspot.com</code> to access the mirror.</p>
<p>As the same domain is associated with many other <strong>Google cloud services</strong> it&rsquo;d be difficult to block it entirely.</p>
<p>However, <strong>it&rsquo;s possible to block the sub-domain</strong> without having to block the entire domain name, in which case you&rsquo;ll be able to get a new mirror up and running in less than two minutes by simply creating a new project with a different name and ID and repeating steps <strong>8:10</strong></p>
<h2 id="attribution">Attribution</h2>
<p>This project was inspired and built on <a href="https://github.com/bslatkin/mirrorrr">mirrorrr</a> project.</p>
<h2 id="disclaimer">Disclaimer</h2>
<p>This project and all Icarus Project’s related code and guides are developed for <strong>the sole purpose of Internet censorship circumvention</strong>, more specifically in human rights and independent media context.</p>
<p><strong>Icarus Project is not responsible for any abuse and/or malicious use of any of its published research results.</strong></p>
<h2 id="todo">Todo</h2>
<ul>
<li><input disabled="" type="checkbox"> Rewrite in Python3</li>
</ul>

</div>



    
	
  

    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-4c56b48f6f0c1f46b1e83c1f18e90301">5 - Alternative Publishing Methods</h1>
    <div class="lead">Alternative Publishing Methods</div>
	
</div>



    
      
  
  
  
  

  
  

  
    
    
	
    

<div class="td-content" style="">
    
	<h1 id="pg-fb3643402ea2c1b2743ebf00a44c7820">5.1 - Tor</h1>
    <div class="lead">Mirror a website on Tor network</div>
	

<div class="pageinfo pageinfo-primary">
<p>In this guide we will be introducing two different methods of <strong>creating a mirror for your website on Tor network</strong> using <strong>Tor Onion services</strong> formerly known as - <strong>Tor Hidden Services</strong>.</p>
<p>You will also find a brief introduction to Tor network and how access it if it&rsquo;s blocked in your country</p>

</div>


</div>



    
      
  
  
  
  

  
  

  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-f36ecfbbaf9e4a4e829b0a21550d6529">5.1.1 - Intro to Tor</h1>
    <div class="lead">Introduction to Tor network</div>
	<p>Required expertise level : <strong>Beginner / Intermediate</strong></p>
<p>Platform : <strong>Gnu/Linux | macOS | MS Windows | Android | BSD</strong></p>
<p>Last tested and confirmed : March 2022</p>
<hr>


<div class="pageinfo pageinfo-primary">
<p><strong>This guide is an updated version of this <a href="https://www.madamasr.com/en/2019/12/25/feature/politics/beating-the-block-mada-masr-launches-tor-mirror/">article</a>, published by MadaMasr - An Egyptian independent media organization - in the context of releasing their own Onion mirror.</strong></p>

</div>

<h2 id="what-is-tor">What is Tor?</h2>

<div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
  <iframe src="https://www.youtube-nocookie.com/embed/JWII85UlzKw" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" allowfullscreen title="YouTube Video"></iframe>
</div>



<div class="alert alert-primary" role="alert">
<h4 class="alert-heading">Tor</h4>

    is the acronym for the original project that produced The Onion Router protocol, which protects the identity of internet users. It’s one of several technologies that have become widely used to roam the web freely and securely.

</div>

<p><strong>The project began in the mid-1990s</strong> and has gone through several phases. It is now administered by a not-for-profit organization, supervised by a community of its users and developers.</p>
<p>All Tor software is developed under <strong>open-source licenses</strong> and is publicly available for anyone to view and collaborate in improving.</p>
<h2 id="how-does-tor-work">How does Tor work?</h2>
<p><strong>Let’s imagine the journey of a data packet between a user and a server</strong> (i.e. a website), both connected to the internet. With a regular connection, the data packet moves from the user’s device through the local router and then to the servers of the Internet Server Provider (ISP). If the ISP’s servers allow the packet to pass, it will reach its destination, hassle-free.</p>
<p><strong><em>But what if you don’t want anyone to access your data packet, its destination or its content? Or to be able to block its journey?</em></strong></p>


<div class="alert alert-primary" role="alert">
<h4 class="alert-heading">Onion routing</h4>

    <p>allows your packet to take a different, more secure route to reach its final destination.</p>
<p>Your Tor client will choose a group of random nodes for the packet to move through until it reaches its final destination. It will then generate a set of keys on your computer, which are used to encrypt the data packet as many times as the number of nodes it will pass through in its journey before reaching the final exit node.</p>


</div>

<p><img src="../images/onion-services/5.png" alt=""></p>
<p><strong>The encryption protocol</strong> allows each node the packet is passing through to decrypt just one layer of the encryption to get information about the next node the packet will pass through.</p>
<p>The aim of the onion routing protocol is for your packet to pass through a series of random nodes before reaching its final destination, <strong>with each node only receiving information about the nodes that directly proceed and follow it.</strong></p>
<p>None of the nodes — <em>except for the last one</em> — can access information about the data packet’s final destination or see what’s inside it. <strong>The final exit node decrypts the final layer and directs the packet to its intended destination on the internet.</strong></p>
<h2 id="who-runs-tor">Who runs Tor?</h2>


<div class="alert alert-primary" role="alert">
<h4 class="alert-heading">The organization</h4>

    operates several machines that serve as nodes on its network. Volunteers run thousands more nodes — all under the community’s supervision — to ensure data security.

</div>

<p><strong>Anyone can volunteer</strong> to host a node in the network given that they have the necessary technical capabilities and internet speed.</p>
<p>Neither the community nor the organization <strong>has the right or the ability to interfere with the encryption protocol because the encryption keys of each user are stored on their respective devices.</strong></p>


<div class="alert alert-warning" role="alert">


    <strong>Data packets are therefore completely encrypted within the Tor network.</strong>

</div>

<h2 id="whats-the-difference-between-using-tor-and-using-a-virtual-private-network-vpn">What’s the difference between using Tor and using a Virtual Private Network (VPN)?</h2>
<blockquote>
<p>VPN is the name given to different protocols and mechanisms that route the connection of one or more machines to a virtual network through which they can access the internet.</p>
</blockquote>
<p><strong>To do so,</strong> the VPN client creates an encrypted connection to the server of the virtual private network, which acts like a tunnel transferring data from the machine to the server before it reaches the internet. When the data gets to its final destination, it appears as if it were sent from the server of the virtual network.</p>
<p>VPN theoretically helps protect users’ anonymity as it hides their geographical locations and identities from the servers at the receiving end. Yet while VPN provides some privacy besides enabling users to access blocked websites, it doesn’t provide watertight protection.</p>
<p>Network admins can collect users’ data after decrypting them. Data can also be manipulated if users connect to websites and services that don’t use secure protocols, such as HTTPS.</p>
<p><strong>It’s also not advisable to use free VPN services</strong>, as many such services make money by collecting and selling user data. Others inadvertently transfer adware and, sometimes, malware from unprotected websites while browsing.</p>
<p>These are the main differences between using the Tor network and VPN services. Whether paid or free, VPN providers generally seek profit, and there isn’t a practical method to verify their user data security policies. Tor, on the other hand, is subject to clear transparency rules and the supervision of both developers and users.</p>
<p><strong>Additionally,</strong> it’s easy to block access to VPN service providers, either through tracking their respective routing protocols or intercepting connections. Authorities can also directly block VPN servers and websites, as is the case with some countries.</p>
<h2 id="whats-the-difference-between-onion-services-and-the-normal-web---clearnethttpsenwikipediaorgwikiclearnet_networking">What’s the difference between Onion Services and the normal web - <a href="https://en.wikipedia.org/wiki/Clearnet_(networking)">Clearnet</a>?</h2>
<p><strong>We’ve explained how Tor network operates by describing the journey of a data packet through the nodes</strong> until it reaches the exit node and then its destination on the internet.</p>
<p><strong>But what if the packet never leaves Tor network?</strong></p>
<p><strong>Onion services</strong> are used to grant access to servers operating completely within the Tor network that are only accessible using the onion routing protocol. These services can be accessed through randomly generated addresses (most of the time) ending with the special-use top-level domain suffix “.onion” (as opposed to the more common .com or .org).</p>
<p><strong>What this technique provides</strong> is a routing protocol between the user and the server so that neither has any information about the other.</p>


<div class="alert alert-primary" role="alert">


    Under optimum conditions in which all preferences are properly set by both parties, it is not possible to trace the server operating on Tor network, nor can the website’s admin collect any data that would reveal a user’s identity — barring, of course, a mistake or voluntary release of such information.

</div>

<h2 id="tor-browser">Tor Browser</h2>


<div class="alert alert-primary" role="alert">


    You can reach Tor Browser and download the installer for your respective operating system using the following links

</div>

<ul>
<li>
<p><a href="https://www.torproject.org/download/">Tor Project website</a>       <strong>If Internet censorship is in place in your country, there is a fairly chance this website is <em>blocked</em></strong></p>
</li>
<li>
<p><a href="https://github.com/TheTorProject/gettorbrowser/releases/tag/torbrowser-release"><strong>Tor Project repository on GitHub</strong></a></p>
</li>
<li>
<p><a href="https://archive.org/details/@gettor"><strong>The Internet Archive</strong></a></p>
</li>
<li>
<p><a href="https://drive.google.com/open?id=13CADQTsCwrGsIID09YQbNz2DfRMUoxUU"><strong>Google Drive</strong></a></p>
</li>
</ul>
<p><strong>Other mirrors</strong></p>
<ul>
<li>
<p><a href="https://tor.eff.org/">https://tor.eff.org/</a></p>
</li>
<li>
<p><a href="https://tor.calyxinstitute.org/">https://tor.calyxinstitute.org/</a></p>
</li>
<li>
<p><a href="https://tor.ccc.de/">https://tor.ccc.de/</a></p>
</li>
<li>
<p>We host an <strong>expermintal mirror for Tor Browser binary files on IPFS,</strong> you can reach it on <a href="https://ipfs.io/ipns/tor-ipfs.fightcensorship.tech">ipfs.io/ipns/tor-ipfs.fightcensorship.tech</a></p>
</li>
</ul>
<p><strong>Tor Project</strong> also provides another method to download its browser. <strong>Just send an email to <a href="mailto:gettor@torproject.org">gettor@torproject.org</a></strong> including the name of your operating system (Windows, OSX, Linux). You will receive a message containing links to download the browser via Google Drive and Dropbox, which aren’t blocked.</p>
<hr>
<p><strong>Tor Browser for Android is also available on the <a href="https://play.google.com/store/apps/details?id=org.torproject.torbrowser">Google Play Store</a></strong></p>


<div class="alert alert-primary" role="alert">


    You can also use Tor network’s proxy app <a href="https://play.google.com/store/apps/details?id=org.torproject.android"><strong>Orbot</strong></a>, which provides a similar service to VPNs. Orbot redirects the data from all the apps on your phone to go through Tor network. This can help override blocks placed on apps such as Signal and Wire, among others.

</div>

<p><img src="../images/onion-services/3.gif" alt="Orbot VPN mode"></p>


<div class="alert alert-primary" role="alert">


    <p><strong>There isn’t an official version</strong> of Tor Browser for iPhone and iPad users because of the restrictions Apple places on apps. However, every now and then, independent developers come up with alternative browsers to access Tor network such as <a href="https://onionbrowser.com/"><strong>OnionBrowser</strong></a>.</p>
<p><strong>These browsers, however, don’t ensure the anonymity of users accessing content outside the Tor network.</strong></p>


</div>

<h2 id="when-tor-is-blocked-activate-bridges">When Tor is blocked, activate bridges</h2>

<div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
  <iframe src="https://www.youtube-nocookie.com/embed/DkEqWGF3cvg" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" allowfullscreen title="YouTube Video"></iframe>
</div>



<div class="alert alert-primary" role="alert">


    Connection to Tor network usually gets restricted through blocking or jamming entry nodes because the addresses of most VPNs, as well as the protocols of nodes and relays, are openly available on the internet.

</div>

<p><strong>What makes fully blocking Tor network such a difficult task is that there are many ways to connect to it. One such way is by using bridges.</strong></p>
<p><strong>In a nutshell,</strong> bridges are servers run by volunteers whose addresses aren’t usually published openly. Bridges work as an intermediary between users and Tor network and help bypass blocks while hiding the connection from any party trying to analyze the network’s data.</p>
<h3 id="activating-bridges">Activating Bridges</h3>
<p><strong>Tor browser on Android phones</strong></p>
<p><img src="../images/onion-services/1.gif" alt=""></p>
<p><strong>Tor’s Android client, Orbot</strong></p>
<p><img src="../images/onion-services/2.gif" alt=""></p>
<p><strong>Tor browser on Desktop devices</strong></p>
<p><img src="../images/onion-services/4.gif" alt=""></p>
<h3 id="websites-that-can-be-accessed-through-onion-services">Websites that can be accessed through .onion services</h3>
<ul>
<li>
<p><a href="https://www.bbcweb3hytmzhn5d532owbu6oqadra5z3ar726vq5kgwwn6aucdccrad.onion/"><strong>BBC</strong></a></p>
</li>
<li>
<p><a href="https://www.nytimesn7cgmftshazwhfgzm37qxb44r64ytbb2dj3x62d2lljsciiyd.onion/"><strong>The New York Times</strong></a></p>
</li>
<li>
<p><a href="https://protonmailrmez3lotccipshtkleegetolb73fuirgj7r4o4vfu7ozyd.onion/"><strong>ProtonMail</strong></a></p>
</li>
<li>
<p><a href="https://www.facebookwkhpilnemxj7asaniu7vnjjbiltxjqhye3mhbshg7kx5tfyd.onion/"><strong>Facebook</strong></a></p>
</li>
<li>
<p><a href="https://twitter3e4tixl4xyajtrzo62zg5vztmjuricljdp2c5kshju4avyoid.onion/"><strong>Twitter</strong></a></p>
</li>
<li>
<p><a href="https://madakrogilagsapkmoe2iwjbmuva27t73opugag6kjsgrqxzywpbksad.onion"><strong>MadaMasr</strong></a></p>
</li>
<li>
<p><a href="https://masarnh55evghtxwgbq5dg5xssdxhm43wgyy4f5uxwejzyfuuepliuad.onion"><strong>Masaar</strong></a></p>
</li>
</ul>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-c61b9bc9423b4630b66e739f975a37f3">5.1.2 - EOTK</h1>
    <div class="lead">How to create a dynamic Onion service mirror using <a href="https://github.com/alecmuffett/eotk">The Enterprise Onion Toolkit</a> - EOTK</div>
	<p>Required expertise level : <strong>Advanced</strong></p>
<p>Platform : <strong>Gnu/Linux | macOS | BSD</strong></p>
<hr>
<h2 id="introduction">Introduction</h2>
<blockquote>
<p>As described by it&rsquo;s own developer</p>
</blockquote>


<div class="alert alert-primary" role="alert">


    <p>EOTK provides <strong>a tool for deploying HTTP and HTTPS onion sites</strong> to provide official onion-networking presences for popular websites.</p>
<p>The result is essentially a &ldquo;man in the middle&rdquo; proxy; you should set them up only for your own sites, or for sites which do not require login credentials of any kind.</p>


</div>



<div class="alert alert-warning" role="alert">
<h4 class="alert-heading">Note</h4>

    <strong>A thorough <a href="https://github.com/alecmuffett/eotk/blob/master/docs.d/HOW-TO-INSTALL.md">implementation guide</a></strong> is available on the project&rsquo;s <strong><a href="https://github.com/alecmuffett/eotk">repository on GitHub</a></strong>, therefore, we will be providing translations in other <strong><a href="../docs">available languages</a></strong> for our guides.

</div>


</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-90969c637164b1e786e8631fb0b27257">5.1.3 - Static Onion</h1>
    <div class="lead">Create Onion Service for your Static mirror</div>
	<p>Required expertise level : <strong>Advanced</strong></p>
<p>Platform : <strong>Linux / Ubuntu - Debian</strong></p>
<p>Last tested and confirmed : March 2022</p>
<hr>


<div class="pageinfo pageinfo-primary">
<p>This guide will walk you through the process of creating <strong>Onion Service</strong> for you static website.</p>

</div>



<div class="alert alert-warning" role="alert">
<h4 class="alert-heading">Note</h4>

    <strong>This guide</strong> focuses on creating a simple Onion service mainly in the context of censorship circumvention, if you are more concerned with the anonymity Tor provides in Onion services you should not depend on this guide alone, reading and understanding <strong><a href="https://2019.www.torproject.org/docs/tor-onion-service.html.en">Tor project documentations</a></strong> will best practice in that case, <strong>as a ensuring full anonymity is an advanced and very details oriented process.</strong>

</div>

<hr>
<ul>
<li><strong>Install Nginx webserver</strong></li>
</ul>
<blockquote>
<p>Run the following commands in your terminal in their respective order</p>
</blockquote>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>sudo apt install software-properties-common
</span></span><span style="display:flex;"><span>sudo add-apt-repository ppa:nginx/stable
</span></span><span style="display:flex;"><span>sudo apt update <span style="color:#ff79c6">&amp;&amp;</span> sudo apt install nginx -y
</span></span></code></pre></div><p><img src="../images/onion-services/6.png" alt=""></p>
<p>Confirm your installation by entering <code>nginx -v</code>, the output should look similar to this</p>
<ul>
<li><strong>Install Tor client</strong></li>
</ul>


<div class="alert alert-warning" role="alert">
<h4 class="alert-heading">Note</h4>

    <strong>If Tor Project Website and Tor communications are blocked in your country,</strong> probably the official <strong><a href="https://deb.torproject.org/torproject.org">software repositories</a></strong> are also blocked, in which case you should skip adding them and install Tor directly from <strong>your distribution&rsquo;s repositories.</strong>

</div>

<blockquote>
<p>Add in the following lines in <code>/etc/apt/sources.list</code></p>
</blockquote>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>deb https://deb.torproject.org/torproject.org stretch main
</span></span><span style="display:flex;"><span>deb-src https://deb.torproject.org/torproject.org stretch main
</span></span></code></pre></div><blockquote>
<p>Run the following commands in your terminal in their respective order</p>
</blockquote>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>curl https://deb.torproject.org/torproject.org/A3C4F0F979CAA22CDBA8F512EE8CBC9E886DDD89.asc | gpg --import
</span></span><span style="display:flex;"><span>gpg --export A3C4F0F979CAA22CDBA8F512EE8CBC9E886DDD89 | sudo apt-key add -
</span></span><span style="display:flex;"><span>sudo apt update <span style="color:#ff79c6">&amp;&amp;</span> apt install tor deb.torproject.org-keyring
</span></span><span style="display:flex;"><span>sudo apt update <span style="color:#ff79c6">&amp;&amp;</span> sudo apt install tor
</span></span></code></pre></div><blockquote>
<p>Run the following commands to start Tor daemon</p>
</blockquote>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>sudo systemctl start tor
</span></span><span style="display:flex;"><span>sudo systemctl <span style="color:#8be9fd;font-style:italic">enable</span> tor
</span></span></code></pre></div><blockquote>
<p>Confirm Tor is running without issues</p>
</blockquote>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>sudo systemctl status tor
</span></span><span style="display:flex;"><span>tor --version
</span></span></code></pre></div><p><img src="../images/onion-services/7.png" alt=""></p>
<ul>
<li><strong>Configure Tor client</strong></li>
</ul>
<blockquote>
<p><strong>Open</strong> Tor config file at <code>/etc/tor/torrc</code> with your favorite editor</p>
</blockquote>
<p><code>vim /etc/tor/torrc</code></p>
<blockquote>
<p><strong>Uncomment</strong> the following lines by removing the <code>#</code>, and optionally, replace the directory name in <code>/var/lib/tor/hidden_service/</code> with different name, specially if you are planning on hosting multiple Onion Services on the same server. i.e. <code>/var/lib/tor/myfirstonion/</code></p>
</blockquote>
<ul>
<li><strong>Before:</strong></li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span> <span style="color:#bd93f9">72</span> <span style="color:#6272a4">#HiddenServiceDir /var/lib/tor/hidden_service/</span>
</span></span><span style="display:flex;"><span> <span style="color:#bd93f9">73</span> <span style="color:#6272a4">#HiddenServicePort 80 127.0.0.1:80</span>
</span></span></code></pre></div><ul>
<li><strong>After</strong>:</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>HiddenServiceDir /var/lib/tor/myfirstonion/
</span></span><span style="display:flex;"><span>HiddenServicePort <span style="color:#bd93f9">80</span> 127.0.0.1:80
</span></span></code></pre></div><blockquote>
<p>Restart Tor service</p>
</blockquote>
<p><code>sudo systemctl restart tor</code></p>
<blockquote>
<p>Confirm your Onion Service related files were generated at <code>/var/lib/tor/myfirstonion/</code></p>
</blockquote>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#8be9fd;font-style:italic">cd</span> /var/lib/tor/myfirstonion/ <span style="color:#ff79c6">&amp;&amp;</span> ls
</span></span></code></pre></div><p>You should find two files generated at this directory</p>
<p>1- <code>hostname</code> <strong>contains your Onion Service address</strong></p>
<p>2- <code>private_key</code> <strong>Private key used for encryption. Don&rsquo;t edit or share this file under any circumstances</strong></p>
<p><img src="../images/onion-services/8.png" alt=""></p>
<ul>
<li><strong>Configure Nginx Webserver</strong></li>
</ul>
<p><strong>It&rsquo;s very important to read Nginx documentations and follow the <a href="https://riseup.net/en/security/network-security/tor/onionservices-best-practices">best practices</a> when configuring your Onion Service</strong></p>
<p>But essentially, you can get your Onion Service up &amp; running by adding this simple config file to your <code>/etc/nginx/sites-enabled</code></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-nginx" data-lang="nginx"><span style="display:flex;"><span><span style="color:#ff79c6">server</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">listen</span> 127.0.0.1:<span style="color:#bd93f9">80</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">server_name</span> <span style="color:#f1fa8c">[onion-address]</span>; <span style="color:#6272a4">#replace with your generated onion address, you can get that by executing : `cat /var/lib/[yourservicename]/hostname`
</span></span></span><span style="display:flex;"><span><span style="color:#6272a4"></span>    <span style="color:#ff79c6">root</span> <span style="color:#f1fa8c">/var/www/html/mystaticmirror</span>; <span style="color:#6272a4">#replace with your mirror&#39;s files directory, and make sure the webserver user has access permissions to it.
</span></span></span><span style="display:flex;"><span><span style="color:#6272a4"></span>    <span style="color:#ff79c6">client_max_body_size</span> <span style="color:#f1fa8c">99M</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">port_in_redirect</span> off;
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">charset</span> <span style="color:#f1fa8c">utf-8</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">index</span> <span style="color:#f1fa8c">index.html</span>;
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">location</span> <span style="color:#f1fa8c">/</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">autoindex</span> off;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><ul>
<li><strong>Testing your setup</strong></li>
</ul>
<p><img src="../images/onion-services/9.png" alt=""></p>
<p>Make sure Both Nginx and Tor client are restarted and running succesfully, then head to your Tor Browser and test your new Onion address.</p>
<ul>
<li><strong>[Optional] - announcing your new mirror for Tor browser users</strong></li>
</ul>


<div class="alert alert-primary" role="alert">


    <p><a href="https://community.torproject.org/onion-services/advanced/onion-location/"><strong>Onion-Location</strong></a> is a new feature implemented in Tor Browser.</p>
<p>It essentially allows you to <strong>announce your Onion mirror</strong> for Tor Browser users when they access your original website, through adding an <strong>HTTP Header</strong> using your webserver, or adding specific <strong>HTML <code>&lt;meta&gt;</code></strong> to your <code>index.html</code> page.</p>


</div>

<p><strong>HTTP Header</strong></p>
<ul>
<li>Apache</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-apache" data-lang="apache"><span style="display:flex;"><span><span style="color:#ff79c6">&lt;VirtualHost</span> <span style="color:#f1fa8c">*:443</span><span style="color:#ff79c6">&gt;</span>
</span></span><span style="display:flex;"><span>       <span style="color:#8be9fd;font-style:italic">ServerName</span> &lt;your-website.tld&gt;
</span></span><span style="display:flex;"><span>       <span style="color:#8be9fd;font-style:italic">DocumentRoot</span> <span style="color:#f1fa8c">/path/to/htdocs</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>       <span style="color:#8be9fd;font-style:italic">Header</span> set Onion-Location <span style="color:#f1fa8c">&#34;http://your-onion-address.onion%{REQUEST_URI}s&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>       <span style="color:#8be9fd;font-style:italic">SSLEngine</span> <span style="color:#ff79c6">on</span>
</span></span><span style="display:flex;"><span>       <span style="color:#8be9fd;font-style:italic">SSLCertificateFile</span> <span style="color:#f1fa8c">&#34;/path/to/www.example.com.cert&#34;</span>
</span></span><span style="display:flex;"><span>       <span style="color:#8be9fd;font-style:italic">SSLCertificateKeyFile</span> <span style="color:#f1fa8c">&#34;/path/to/www.example.com.key&#34;</span>
</span></span><span style="display:flex;"><span>     <span style="color:#ff79c6">&lt;/VirtualHost&gt;</span>
</span></span></code></pre></div><ul>
<li>Nginx</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-nginx" data-lang="nginx"><span style="display:flex;"><span><span style="color:#ff79c6">add_header</span> <span style="color:#f1fa8c">Onion-Location</span> <span style="color:#f1fa8c">http://&lt;your-onion-address&gt;.onion</span><span style="color:#8be9fd;font-style:italic">$request_uri</span>;
</span></span></code></pre></div><p><strong>HTML <code>&lt;meta&gt;</code></strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>&lt;<span style="color:#ff79c6">meta</span> <span style="color:#50fa7b">http-equiv</span><span style="color:#ff79c6">=</span><span style="color:#f1fa8c">&#34;onion-location&#34;</span> <span style="color:#50fa7b">content</span><span style="color:#ff79c6">=</span><span style="color:#f1fa8c">&#34;http://&lt;your-onion-service-address&gt;.onion&#34;</span> /&gt;
</span></span></code></pre></div>

<div class="alert alert-primary" role="alert">


    <strong>When</strong> everything is well configured and working, visitors of your original Clearnet website using Tor browser, should be notified about the availability of the Onion mirror and it&rsquo;s address.

</div>

<p><img src="../images/onion-services/10.png" alt=""></p>

</div>



    
	
  

    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-7a223fbe9ffda78accaf5b105b058fa4">5.2 - Interplanetary File System</h1>
    <div class="lead">A peer-to-peer hypermedia protocol</div>
	<p>Required expertise level : <strong>Intermediate</strong></p>
<p>Platform : <strong>Gnu/Linux | macOS | MS Windows | Android | BSD</strong></p>
<p>Last tested and confirmed : March 2022</p>
<hr>


<div class="alert alert-primary" role="alert">
<h4 class="alert-heading">Interplanetary File System - IPFS </h4>

    <p><strong>is A peer-to-peer hypermedia protocol</strong> which is being introduced as the future successor of HTTP.</p>
<p><strong>Being built on the peer-to-peer data exchange system,</strong> IPFS is practically difficult to block at least by current censorship techniques and standards, making it worth testing.</p>


</div>

<p><strong>While it&rsquo;s basically built as a data storage and distribution protocol,</strong> makes the way it functions different than most current day web hosting and cloud functions today, where in most cases, websites are basically web applications which processes and renders on a server then send the resulted web pages to the user.</p>
<p><strong>In IPFS case,</strong> there are no server nor processing capabilities, which mean that it&rsquo;s only capable of serving static or semi-static web pages, essentially anything which depends on client-side rendering and processing.
in this scenario, the browser gets to do most of job and IPFS just delivers raw files.</p>


<div class="alert alert-primary" role="alert">


    To learn about <strong>the difference between static and dynamic websites</strong>, refer the <a href="../docs/getting-started/#what-is-the-difference-between-static-and-dynamic-websites"><strong>Getting Started</strong></a> section in the documentations.

</div>

<hr>
<h2 id="installing-ipfs">Installing IPFS</h2>
<ul>
<li>
<p><strong>MS Windows</strong></p>
<ul>
<li>Install the CLI tool using <strong><a href="https://chocolatey.org/packages/ipfs">Chocolatey</a></strong> windows package manager <code>choco install ipfs</code></li>
<li>Install the Desktop app (GUI) <strong><a href="https://chocolatey.org/packages/ipfs-desktop">Chocolatey</a></strong> <code>choco install ipfs-desktop</code></li>
<li>Or download the installation file directly from <a href="https://ipfs.io/#install">IPFS website</a></li>
</ul>
</li>
<li>
<p><strong>Gnu/Linux</strong></p>
<ul>
<li>Download and run the installation script for the Command Line Interface - CLI - tool from <a href="https://docs.ipfs.io/how-to/command-line-quick-start/#install-ipfs">IPFS website</a></li>
<li>Download and run the installation package for the Graphical User Interface - GUI - desktop app from <a href="https://github.com/ipfs-shipyard/ipfs-desktop#install">GitHub</a></li>
</ul>
</li>
<li>
<p><strong>macOS</strong></p>
<ul>
<li>Install using <strong><a href="https://docs.brew.sh/Installation">Homebrew</a></strong> package manager. <code>brew install ipfs</code></li>
<li>Download the Desktop app from <a href="https://github.com/ipfs-shipyard/ipfs-desktop#install">GitHub</a></li>
</ul>
</li>
</ul>
<p><img src="../images/ipfs/1.png" alt="">IPFS Desktop app</p>
<hr>
<h2 id="adding-your-static-mirror-to-ipfs">Adding your static mirror to IPFS</h2>


<div class="alert alert-primary" role="alert">


    <strong>Adding your static mirror to IPFS</strong> is a very simple process but there are some configuration which should be considered to make sure your website will be easily accessible.

</div>

<ul>
<li><strong>After following <a href="https://docs.ipfs.io/how-to/command-line-quick-start/#initialize-the-repository">IPFS guides</a> on how to get the application on your machine running, confirm</strong></li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>❯ ipfs --version
</span></span><span style="display:flex;"><span>ipfs version 0.6.0
</span></span></code></pre></div><ul>
<li>Using your termianl, go to your static mirror directory.</li>
<li>Run <code>ipfs add -Q  --recursive --progress mystaticmirror </code></li>
</ul>
<p><img src="../images/ipfs/2.png" alt=""></p>


<div class="alert alert-primary" role="alert">
<h4 class="alert-heading">IPFS will</h4>

    start adding your files to it&rsquo;s <a href="https://docs.ipfs.io/concepts/glossary/#datastore">Datastore</a>, and creating a unique <a href="https://docs.ipfs.io/concepts/hashing/#hashes-are-important">hash</a> for every file, the hash of the root directory will be the final output, this will be the address of your mirror on IPFS network.

</div>

<ul>
<li>Now, we can try to access our mirror using IPFS and the hash of the root directory.</li>
</ul>
<p><img src="../images/ipfs/3.png" alt=""></p>
<p><strong>There are two ways of accessing files on IPFS</strong></p>
<ul>
<li><strong>Using a gateway</strong>
<ul>
<li>IPFS Gateway  - <a href="https://ipfs.io">ipfs.io</a></li>
<li>CloudFlare Gateway - <a href="cloudflare-ipfs.com">cloudflare-ipfs.com</a></li>
<li>Pinata Gateway  - <a href="https://gateway.pinata.cloud">gateway.pinata.cloud</a></li>
</ul>
</li>
</ul>


<div class="alert alert-primary" role="alert">


    There are several online gateways that provides a bridge between normal web and data stored on IPFS, you can do that by going to the gateway in your browser while appending <strong><code>/ipfs/QmYn4A9jzkXob1iUPuwjpqxaMkrwE54ywvJUv2cE1s4egE</code></strong> to the URL.

</div>

<ul>
<li><strong>using the local client (peer-to-peer)</strong></li>
</ul>


<div class="alert alert-primary" role="alert">


    <p>This is the method IPFS should be functioning essentially.</p>
<p><strong>You need to have IPFS installed on your machine for this method to work.</strong></p>


</div>

<ul>
<li>Install <a href="https://github.com/ipfs-shipyard/ipfs-companion"><strong>IPFS Companion</strong></a> browser extension and make sur IPFS is running on you machine.</li>
<li><strong>When you enable the extension,</strong> it detects if your local IPFS daemon is running in the background and automatically rewrites any IPFS URL that contains a valid hash to be fetched using your local IPFS installation.</li>
</ul>
<p><img src="../images/ipfs/4.png" alt=""></p>
<hr>
<h3 id="updating-a-website-on-ipfs">Updating a website on IPFS</h3>


<div class="alert alert-primary" role="alert">
<h4 class="alert-heading">Every time</h4>

    you update your static mirror with new content, you will need to add the new version to IPFS again.

</div>

<p><strong>As we mentioned earlier,</strong> IPFS depends on a hashing system to keep track of files, and since every file will create a unique hash, that means the final - root directory - hash will be different every time.</p>
<p>This situation <strong>presents a usability issue,</strong> as you will need somehow to share the new calculated hash with your audience every time you update your website, in order for them to be able to reach the most recent version of your website on IPFS.</p>
<h4 id="enters-the-interplanetary-name-system-ipnshttpsdocsipfsioconceptsipns">Enters the Interplanetary Name System <a href="https://docs.ipfs.io/concepts/ipns/">(IPNS)</a></h4>


<div class="alert alert-primary" role="alert">
<h4 class="alert-heading">IPNS</h4>

    provides a solution similar to the regular web Domain Name System (DNS).

</div>

<p>Using a locally generated key on your machine, IPNS will create a static hash, which will be published to the <a href="https://en.wikipedia.org/wiki/Distributed_hash_table">Distributed hash table (DHT)</a>, this key can be linked to another hash and store it as value.</p>
<p>Think about it (IPNS) as a domain name generator, it gives you a random hash, and register it in a table and store the most recent hash of your files as a value, IPFS users will just need the static IPNS hash to access your website.</p>
<ul>
<li>Generate a new IPFS key</li>
</ul>
<p><code>ipfs key gen --type=rsa --size=2048 mystaticsite</code></p>
<p><img src="../images/ipfs/5.png" alt="">The output will be your new IPNS address</p>
<ul>
<li>Publish your IPNS address and link it with your mirror&rsquo;s most recent hash.</li>
</ul>
<p><code>ipfs name publish --key=mystaticsite [replace with your files most recent hash]</code></p>
<p><img src="../images/ipfs/6.png" alt="">The output will confirmation for the linking between the IPNS address and the IPFS hash</p>
<ul>
<li>We can confirm that your new IPNS address is alive either by accessing it using a gateway i.e. | <strong><code>ipfs.io/ipns/[put your IPNS hash here]</code></strong> |, or <strong>enable IPFS Companion browser extension</strong> to be redirected automatically to your local gateway</li>
</ul>
<p><img src="../images/ipfs/7.png" alt=""></p>


<div class="alert alert-primary" role="alert">
<h4 class="alert-heading">Note</h4>

    <p>If you are adding large files/directories to IPFS.</p>
<p>it might be a good idea to add <code>--nocopy</code> parameter in the first step:</p>
<p><code>ipfs add -Q  --recursive --nocopy --progress mystaticmirror </code></p>
<p>this will tell IPFS not to make a full copy of every file in it&rsquo;s datastore and will just create the hashes and use the original files, <strong>which will save disk space.</strong></p>


</div>


</div>



    
	
  

    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-1eabcdd9d7eb590f86acdfad10ecfe1c">6 - DDoS mitigation guide</h1>
    <div class="lead">DDoS mitigation guide</div>
	<h1 id="summary">Summary</h1>


<div class="alert alert-primary" role="alert">
<h4 class="alert-heading">Who is this guide for?</h4>

    <strong>Is the website you run or manage experiencing slowed performance or constant outages? It could be an issue with configuration, or it could be something more targeted.</strong>

</div>

<p>In the course of our work, we have seen and responded to what we believe was a sophisticated DDoS attack (defined below) that was aimed at effectively censoring an important media platform in the region. In the documentation that follows, we have reflected on this practical experience and consolidated it into a guide to respond to similar attacks.</p>
<p>For publishers, writers or activists that believe they are facing such a targeted attack, we advise you to familiarize yourself with some of the core concepts below, and then pass this documentation guide on to your technical team for the technical configurations that will hopefully get your website back up and running and maximally protected against any attacks in the future.</p>
<h1 id="what-is-ddos">What is DDOS?</h1>
<h2 id="denial-of-service-dos">Denial of Service (DoS)</h2>
<p><strong>Denial of Service (DoS)</strong> attacks are a form of cyber attack that aim to disrupt a specific online service or website on the internet by flooding its infrastructure with a high quantity of false requests exceeding the site’s handling capacity in order to eventually render it inaccessible to its usual audience.</p>
<p>Such methods can be utilized to different ends, but the most common end aims at distributing the service/site, either continuously over time or for a specific period. DoS attacks can also aim to incrementally increase disruptions over time in order to increase the costs of hosting and mitigation.</p>
<h2 id="distributed-denial-of-service-ddos">Distributed Denial of Service (DDoS)</h2>
<p>In the event that you are dealing with a DoS attack, the most effective response would be to simply identify and block the source of the attack on the network level. And with the variety of web application firewall (WAF) services and different traffic control and filtering software employed on modern servers, it can be quite simple to deploy such a response.</p>


<div class="alert alert-warning" role="alert">
<h4 class="alert-heading">But what happens when things are more sophisticated?</h4>

    <strong>The task of mitigation and response becomes significantly more difficult when a DoS attack becomes a DDoS attack.</strong>

</div>

<p>As suggested in the name, a Distributed Denial of Service attack is a DoS attack being launched and coordinated using a number of machines — usually compromised devices “distributed” over different networks and geographic locations.</p>
<p>Atop this decentralized layer usually sits various obfuscation techniques that make the malicious requests look as similar as possible to normal traffic. In practical terms, this makes the chance of mistakenly blocking legitimate sources of traffic in the mitigation response significantly higher.</p>
<h2 id="how-does-a-ddos-attack-work-what-is-a-botnet">How does a DDos attack work? What is a Botnet?</h2>
<p>The number of devices connected and exposed to the public internet increases each day. However, there is not a corresponding move to ensure that security benchmarks and software updates are properly and regularly implemented, creating a situation whereby outdated software with publicly known vulnerabilities can be exploited.</p>
<p>This is the case, for example, with a significant amount of Internet of Things (IoT) devices, which are usually devices running simple software, such as coffee machines, printers, smart cameras, routers, etc. These devices have often not regularly been updated to run the latest firmware version or have been left with the default username and password.</p>
<p><strong>A DDos attack relies</strong> on a malicious actor hijacking such vulnerable devices to form a network of malicious devices, or a botnet, through which the actor can then issue specific commands, such as getting them all to keep sending requests to a specific website or server.</p>
<p>The malicious actor can utilize this network of devices to their own benefit or rent it to someone else.
One of the most recent and infamous botnets is the <a href="https://www.malwarebytes.com/what-was-the-mirai-botnet">Mirai botnet</a>.</p>
<h2 id="identification">Identification</h2>
<p>Identifying a DDoS attack in real-time might seem simple enough, but anyone who has gone through the experience of hosting or managing a server that is exposed to the internet knows that there is usually a lot of random noise showing all the time on the server logs that is usually not harmful in nature, such as search engines bots.</p>
<p>This fact makes it more complicated to identify and track the malicious traffic and its sources. It’s also important to determine whether the occurring downtime is a result of a server component malfunction, misconfiguration or an attack.</p>


<div class="alert alert-primary" role="alert">
<h4 class="alert-heading">Note on best practice</h4>

    <p>It’s always a good practice to make sure server logs are well configured and accessible. This is especially the case with any effort to identify and mitigate a DDoS attack. Being able to access and to understand live logs will be a crucial factor in the process.</p>
<p>It’s also important to know which logs to look at. As linux-based distributions (Ubuntu, Redhat, etc.) are the dominant operating system in the server hosting market, we’ll be using it as an example in this case.</p>


</div>

<h5 id="our-example">Our example</h5>
<p><strong>Linux operating systems normally store logs under <code>/var/log/</code>.</strong> In this directory, you’ll find different types of logs:</p>
<ul>
<li>Logs from the operating system and its different components (kernel, hardware management, networking, firewall events)</li>
<li>Logs created by specialized software installed by the user and running on the server, such as web servers (Nginx, Apache), runtime environment for a programming language (PHP, Java, Javascript), or database servers (MySQL, MongoDB)</li>
</ul>
<p><strong>For example</strong>, when trying to identify a DDoS attack on a WordPress-based website, we need to look at logs of the software used to run the website:</p>
<ul>
<li>Web server (Nginx, Apache) <code>/var/log/nginx/</code>
<ul>
<li><code>/var/log/nginx/</code></li>
<li><code>/var/log/apache2/</code></li>
</ul>
</li>
<li>PHP runtime (php-fpm in case of nginx)
<ul>
<li><code>/var/log/php/</code></li>
<li><code>/var/log/php*/</code></li>
</ul>
</li>
<li>Database server (MariaDB, MySQL, MongoDB)
<ul>
<li><code>/var/log/mysql/</code></li>
</ul>
</li>
</ul>


<div class="alert alert-warning" role="alert">
<h4 class="alert-heading">There are some signs to look for in the logs</h4>

    <hr>
<ul>
<li>A sudden or unusual spike in incoming traffic</li>
<li>Too many requests coming from the same IP addresses or a specific range of addresses over a short period of time</li>
<li>Sudden increase in incoming requests over seemingly random and non-existent pages/urls on the server, returning 404 errors</li>
<li>Increasing number of 403 and 405 errors, indicating service outages as a result of the server exhausting the limit of its hardware capacity causing all types of system errors and eventually crashing</li>
</ul>
<hr>


</div>

<p><strong>If the attacks are operating on HTTP protocol</strong>, the <code>user-agent</code> request header <em>– which is used by software operating within a network protocol to identify itself, e.g.</em> <code>Mozilla/5.0 (platform; rv:geckoversion) Gecko/geckotrail Firefox/firefoxversion</code> – in incoming traffic will look suspicious and can help in the identification process when cross checked with IP addresses.</p>
<p>But, often things aren&rsquo;t so straight forward
Attackers can easily change the <code>user-agent</code> request header used by their software to imitate a specific software such as well known search engine bots or normal browsers, such as Google Chrome or Firefox. (E.g.<code>AdsBot-Google (+http://www.google.com/adsbot.html)</code>).</p>
<h5 id="luckily-a-lot-of-suspicious-user-agents-have-already-been-identified">Luckily, a lot of suspicious user-agents have already been identified</h5>
<p><strong>Example of suspicious user-agents:</strong></p>
<ul>
<li>Baiduspider+(+http://help.baidu.jp/system/05.html)`</li>
<li>Nuclei - Open-source project (github.com/projectdiscovery/nuclei)</li>
</ul>
<p><strong>You can find some public curated lists of potentially malicious user agents</strong></p>
<ul>
<li><a href="https://github.com/fastly/waf_testbed/blob/master/templates/default/scanners-user-agents.data.erb">Fastly scanners user agents</a></li>
<li><a href="https://github.com/mitchellkrogza/nginx-ultimate-bad-bot-blocker/blob/master/_generator_lists/bad-user-agents.list">Nginx ultimate bad bot blocker</a></li>
</ul>
<h2 id="mitigation">Mitigation</h2>
<p><strong>The ultimate goal of a targeted DDoS attack is</strong> to exhaust the target’s available resources over time, making it increasingly difficult to support the infrastructure needed for the website and the technical expertise required to keep it running against the attack.</p>
<p><strong>That means</strong>, successful mitigation will hinge on detecting and either blocking or throttling most of the malicious requests.</p>


<div class="alert alert-primary" role="alert">
<h4 class="alert-heading">What you'll find in the sections below</h4>

    <p>We detail two principal approaches that can be used in combination to create a robust mitigation approach:</p>
<ol>
<li>server configuration mitigation measures and</li>
<li>mitigation through the use an external service, such as web application firewalls, content delivery networks and caching.</li>
</ol>


</div>

<h3 id="server-configuration-mitigation-measures">Server configuration mitigation measures</h3>
<p>We outline, below, a number of useful software that can be installed on the server that can be helpful in DDoS mitigation: Fail2ban and Crowdsec.</p>
<h4 id="fail2ban">Fail2ban</h4>
<p><a href="https://github.com/fail2ban/fail2ban">Fail2ban</a> is a UNIX-like systems specific software (Linux, BSD, macOS). The main function of Fail2ban is to monitor a specific set of system logs and identify malicious behavior based on sets of rules and predefined patterns. Fail2ban needs to be configured according to the nature and known attack vectors of the targeted software/service.</p>
<p>The firewall software installed on the server can then be utilized to block the detected bad actors for a specific time or indefinitely.</p>
<p>Fail2ban is a very flexible software and can be configured to monitor a wide variety of services and endpoints. However, setting up and successfully configuring everything for multiple services can be a bit tricky at first.</p>
<h5 id="fail2ban-configuration-files-are-organized-this-way">Fail2ban configuration files are organized this way:</h5>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>/etc/fail2ban/
</span></span><span style="display:flex;"><span>├── action.d
</span></span><span style="display:flex;"><span>├── fail2ban.d
</span></span><span style="display:flex;"><span>├── filter.d
</span></span><span style="display:flex;"><span>│   └── ignorecommands
</span></span><span style="display:flex;"><span>└── jail.d
</span></span></code></pre></div><hr>
<h5 id="what-are-jails">What are jails?</h5>
<p>Jails are used to control and define the service we need to monitor. Take the example where we are creating a jail to ban IP addresses that are getting a lot of forbidden errors on their requests, which means they are attempting to access a restricted endpoint repeatedly.</p>
<p>In this scenario, we need to create and set the name of the filter we are going to create later, the action, and the path of the log file we are monitoring.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#ff79c6">[</span>nginx-forbidden<span style="color:#ff79c6">]</span>
</span></span><span style="display:flex;"><span><span style="color:#8be9fd;font-style:italic">enabled</span> <span style="color:#ff79c6">=</span> <span style="color:#8be9fd;font-style:italic">true</span>
</span></span><span style="display:flex;"><span><span style="color:#8be9fd;font-style:italic">filter</span> <span style="color:#ff79c6">=</span> nginx-forbidden
</span></span><span style="display:flex;"><span><span style="color:#8be9fd;font-style:italic">action</span> <span style="color:#ff79c6">=</span> iptables-multiport<span style="color:#ff79c6">[</span><span style="color:#8be9fd;font-style:italic">name</span><span style="color:#ff79c6">=</span><span style="color:#f1fa8c">&#34;nginx-forbidden&#34;</span>, <span style="color:#8be9fd;font-style:italic">port</span><span style="color:#ff79c6">=</span><span style="color:#f1fa8c">&#34;http,https&#34;</span><span style="color:#ff79c6">]</span>
</span></span><span style="display:flex;"><span><span style="color:#8be9fd;font-style:italic">logpath</span> <span style="color:#ff79c6">=</span> /var/log/nginx/*error*.log
</span></span></code></pre></div><hr>
<h5 id="what-are-filters">What are filters?</h5>
<p>Filters define the patterns to look for in the log files. The filter uses regular expressions to define the pattern. We also have the ability to define a pattern that should be ignored, which can be useful to whitelist specific requests.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#ff79c6">[</span>Definition<span style="color:#ff79c6">]</span>
</span></span><span style="display:flex;"><span><span style="color:#8be9fd;font-style:italic">failregex</span> <span style="color:#ff79c6">=</span> ^ <span style="color:#f1fa8c">\[</span>error<span style="color:#f1fa8c">\]</span> <span style="color:#f1fa8c">\d</span>+#<span style="color:#f1fa8c">\d</span>+: .* forbidden .*, client: &lt;HOST&gt;, .*$
</span></span><span style="display:flex;"><span><span style="color:#8be9fd;font-style:italic">ignoreregex</span> <span style="color:#ff79c6">=</span>
</span></span></code></pre></div><hr>
<h5 id="what-are-actions">What are actions?</h5>
<p>Actions are used to define how Fail2ban will respond after identifying the pattern defined in the filter. Actions can be used, for example, to block the offending IP addresses using the firewall UFW (Uncomplicated Firewall).
Ultimately executing a command that looks like <code>ufw deny from xxx.xxx.xxx.xxx to any</code></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#6272a4"># Fail2Ban action configuration file for ufw</span>
</span></span><span style="display:flex;"><span><span style="color:#6272a4">#</span>
</span></span><span style="display:flex;"><span><span style="color:#6272a4"># You are required to run &#34;ufw enable&#34; before this will have any effect.</span>
</span></span><span style="display:flex;"><span><span style="color:#6272a4">#</span>
</span></span><span style="display:flex;"><span><span style="color:#6272a4"># The insert position should be appropriate to block the required traffic.</span>
</span></span><span style="display:flex;"><span><span style="color:#6272a4"># A number after an allow rule to the application won&#39;t be of much use.</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">[</span>Definition<span style="color:#ff79c6">]</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8be9fd;font-style:italic">actionstart</span> <span style="color:#ff79c6">=</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8be9fd;font-style:italic">actionstop</span> <span style="color:#ff79c6">=</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8be9fd;font-style:italic">actioncheck</span> <span style="color:#ff79c6">=</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8be9fd;font-style:italic">actionban</span> <span style="color:#ff79c6">=</span> <span style="color:#ff79c6">[</span> -n <span style="color:#f1fa8c">&#34;&lt;application&gt;&#34;</span> <span style="color:#ff79c6">]</span> <span style="color:#ff79c6">&amp;&amp;</span> <span style="color:#8be9fd;font-style:italic">app</span><span style="color:#ff79c6">=</span><span style="color:#f1fa8c">&#34;app &lt;application&gt;&#34;</span>
</span></span><span style="display:flex;"><span>ufw insert &lt;insertpos&gt; &lt;blocktype&gt; from &lt;ip&gt; to &lt;destination&gt; <span style="color:#8be9fd;font-style:italic">$app</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8be9fd;font-style:italic">actionunban</span> <span style="color:#ff79c6">=</span> <span style="color:#ff79c6">[</span> -n <span style="color:#f1fa8c">&#34;&lt;application&gt;&#34;</span> <span style="color:#ff79c6">]</span> <span style="color:#ff79c6">&amp;&amp;</span> <span style="color:#8be9fd;font-style:italic">app</span><span style="color:#ff79c6">=</span><span style="color:#f1fa8c">&#34;app &lt;application&gt;&#34;</span>
</span></span><span style="display:flex;"><span>ufw delete &lt;blocktype&gt; from &lt;ip&gt; to &lt;destination&gt; <span style="color:#8be9fd;font-style:italic">$app</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">[</span>Init<span style="color:#ff79c6">]</span>
</span></span><span style="display:flex;"><span><span style="color:#6272a4"># Option: insertpos</span>
</span></span><span style="display:flex;"><span><span style="color:#6272a4"># Notes.: The position number in the firewall list to insert the block rule</span>
</span></span><span style="display:flex;"><span><span style="color:#8be9fd;font-style:italic">insertpos</span> <span style="color:#ff79c6">=</span> <span style="color:#bd93f9">1</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#6272a4"># Option: blocktype</span>
</span></span><span style="display:flex;"><span><span style="color:#6272a4"># Notes.: reject or deny</span>
</span></span><span style="display:flex;"><span><span style="color:#8be9fd;font-style:italic">blocktype</span> <span style="color:#ff79c6">=</span> reject
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#6272a4"># Option: destination</span>
</span></span><span style="display:flex;"><span><span style="color:#6272a4"># Notes.: The destination address to block in the ufw rule</span>
</span></span><span style="display:flex;"><span><span style="color:#8be9fd;font-style:italic">destination</span> <span style="color:#ff79c6">=</span> any
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#6272a4"># Option: application</span>
</span></span><span style="display:flex;"><span><span style="color:#6272a4"># Notes.: application from sudo ufw app list</span>
</span></span><span style="display:flex;"><span><span style="color:#8be9fd;font-style:italic">application</span> <span style="color:#ff79c6">=</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#6272a4"># DEV NOTES:</span>
</span></span><span style="display:flex;"><span><span style="color:#6272a4">#</span>
</span></span><span style="display:flex;"><span><span style="color:#6272a4"># Author: Guilhem Lettron</span>
</span></span><span style="display:flex;"><span><span style="color:#6272a4"># Enhancements: Daniel Black</span>
</span></span></code></pre></div><hr>
<h4 id="crowdsec">Crowdsec</h4>
<p>If the process of configuring Fail2ban seemed a bit too complicated, Crowdsec, an open-source project built on similar principles as Fail2ban, should be very helpful.</p>

<div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
  <iframe src="https://www.youtube-nocookie.com/embed/t99cnWYGhdw" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" allowfullscreen title="YouTube Video"></iframe>
</div>



<div class="pageinfo pageinfo-primary">
<p>CrowdSec is a free, modern &amp; collaborative behavior detection engine, coupled with a global IP reputation network. It stacks on Fail2ban&rsquo;s philosophy but is IPV6 compatible and 60x faster (Go vs Python), uses Grok patterns to parse logs and YAML scenario to identify behaviors.
CrowdSec is engineered for modern Cloud / Containers / VM-based infrastructures (by decoupling detection and remediation). Once detected, you can remedy threats with various bouncers (firewall block, nginx http 403, Captchas, etc.), while the aggressive IP can be sent to CrowdSec for curation before being shared among all users to further improve everyone&rsquo;s security. — <strong>Crowdsec developers</strong></p>

</div>

<p>As the developers describe it above, Crowdsec functions in a way similar to Fail2ban but comes with more features and is way simpler to set up.
Another key feature of Crowdsec is the sharing of offending IP addresses across the community using it, effectively creating a community driven IP reputation system.</p>
<p>For instruction purposes, say we are looking at a simple installation of Crowdsec to monitor incoming traffic to a Wordpress instance, but, first, we need to briefly define some of the inner parts of the software in order to get an initial understanding of how it functions.
Crowdsec offers great documentation, which you can find <a href="https://docs.crowdsec.net/docs/getting_started/install_crowdsec">here</a>.</p>


<div class="alert alert-primary" role="alert">
<h4 class="alert-heading">Building on the work of others</h4>

    We will be using Crowdsec’s own documentations.
You can refer to the <a href="https://doc.crowdsec.net/docs/concepts">concepts</a> page for a better understanding of the software components.

</div>

<p><strong>First</strong>, we need to install Crowdsec.
Refer to the <a href="https://docs.crowdsec.net/docs/getting_started/install_crowdsec">installation page</a> for installation instruction specific to your operating system.</p>


<div class="alert alert-warning" role="alert">
<h4 class="alert-heading">Note on best practice</h4>

    <p>While it’s possible to have Crowdsec installed on a standalone server, it’s much easier to have it running on the same machine as the target website. Installing it on a standalone server would require additional configurations for authentication and security.</p>
<p>To install Crowdsec on a standalone server, you can consult Crowdsec’s docs, <a href="https://docs.crowdsec.net/docs/configuration/crowdsec_configuration#tls">here</a>.</p>


</div>

<h5 id="our-example-1">Our example</h5>
<p><strong>To install on Ubuntu/Debian, run:</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>curl -s https://packagecloud.io/install/repositories/Crowdsec/Crowdsec/script.deb.sh | sudo bash
</span></span><span style="display:flex;"><span>apt install Crowdsec
</span></span></code></pre></div><p><strong>And then initiate the configuration wizard:</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>/usr/share/Crowdsec/wizard.sh -c
</span></span></code></pre></div><p><strong>The configuration wizard will appear.</strong></p>
<p><strong>First, the script scans for logs on your system and which software they belong to. You can deselect services that you don’t want Crowdsec to monitor.</strong></p>
<p><img src="../images/ddos/1.png" alt=""></p>
<p><strong>Here, you need to select the “collections” that fit your use case.</strong></p>
<p>”Collections” contain ”parsers” which help the software understand how to process the logs produced by a specific software and “scenarios” that are used to describe the attack scenario and how it should look in the logs as a pattern.</p>
<p><img src="../images/ddos/2.png" alt=""></p>
<p><strong>Some of the suggested collections in this example</strong></p>
<ul>
<li>Crowdsecurity/whitelist-good-actors</li>
<li>Crowdsecurity/wordpress</li>
<li>Crowdsecurity/http-cve</li>
<li>Crowdsecurity/apache2</li>
<li>Crowdsecurity/nginx</li>
</ul>
<p><strong>In the next stage, we can confirm the detected individual log files for every software. We can deselect any file we don’t want monitored.</strong></p>
<p><img src="../images/ddos/3.png" alt=""></p>
<p><img src="../images/ddos/4.png" alt=""></p>
<hr>
<p><strong>Now, we need to install the Crowdsec <a href="https://wordpress.org/plugins/crowdsec/">Wordpress plugin</a> on the targeted instance.</strong></p>
<p>The plugin is available on Wordpress plugin store, and it can be downloaded from the <a href="https://github.com/crowdsecurity/cs-wordpress-bouncer/releases/latest">project Github</a> as well.</p>
<p><img src="../images/ddos/5.png" alt=""></p>
<p><strong>Once the plugin is installed and enabled, it should be accessible from the Wordpress dashboard.</strong></p>
<p><img src="../images/ddos/6.png" alt=""></p>
<p><strong>The first thing to set here is the <code>Local API URL</code>,</strong> which is the address of the server that’s running Crowdsec. If it’s installed on the same machine as the Wordpress instance, it should be set to <code>http://localhost:8080</code></p>
<p>Now, <strong>we need to go back to the command line to generate the <code>Bouncer API key</code>.</strong> The bouncer will be used to authenticate its connection with Crowdsec.</p>
<p><strong>Now, we get the key by running:</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>cscli bouncers add wordpress-bouncer
</span></span></code></pre></div><p><strong>The result should be a random key that looks like this:</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>Api key <span style="color:#ff79c6">for</span> <span style="color:#f1fa8c">&#39;wordpress-bouncer&#39;</span>:
</span></span><span style="display:flex;"><span> 4df97788c6a4967ba16cbd689d2395df
</span></span><span style="display:flex;"><span>Please keep this key since you will not be able to retrieve it!
</span></span></code></pre></div><p>After we test these settings and confirm the connection between the Wordpress plugin and Crowdsec is working, <strong>there are some settings in the plugin that we can use to fine-tune the bouncing process and make it work best for our use case.</strong></p>
<p><strong>Here, we can customize the message that will be shown to a banned/bounced client.</strong></p>
<p><img src="../images/ddos/7.png" alt=""></p>
<p><strong>The default looks like this:</strong></p>
<p><img src="../images/ddos/14.png" alt=""></p>
<p><strong>We then need to open the advanced settings tab</strong></p>
<p><img src="../images/ddos/9.png" alt=""></p>
<p><strong>First, we need to enable <code>stream mode</code> and lower the <code>Resync decision each</code>.</strong></p>
<p><img src="../images/ddos/10.png" alt=""></p>
<p>In this example, <strong>we will set the Resync intervals to every 5 seconds.</strong>
This basically controls the intervals of fetching new <code>decisions</code> from Crowdsec.
But there is room for experimentation and adjustment to fine-tune these settings for each use case.</p>


<div class="alert alert-warning" role="alert">
<h4 class="alert-heading">Other important settings to check</h4>

    <p>If you are using a specific content delivery network (CDN), such as Cloudflare or Fastly, your website is being served either partially or completely from the CDN’s own IP addresses.</p>
<p>That means that the requests coming to your server will also be from the CDN and not directly from the client.
To be able to see and log the original IP addresses of the request, CDNs usually use a specific header in the HTTP packet called <code>X-Forward-For</code>. Adding the public IP ranges of your CDN here will tell Crowdsec to trust the requests coming from them and to look for the <code>X-Forward-For</code> HTTP header` to get the original source of the request.</p>


</div>

<h5 id="how-to-whitelist-cdns">How to whitelist CDNs</h5>
<p><img src="../images/ddos/11.png" alt=""></p>
<p>Most CDN services usually publish a list of their public IP ranges so they can be whitelisted. <strong>Find the IP ranges for two major CDN services below:</strong></p>
<ul>
<li><a href="https://www.cloudflare.com/ips/">Cloudflare</a></li>
<li><a href="https://support.google.com/a/answer/10026322?hl=en">Google</a></li>
</ul>
<p><strong>It’s also important to check the caching settings here:</strong></p>
<p><img src="../images/ddos/12.png" alt=""></p>


<div class="alert alert-warning" role="alert">
<h4 class="alert-heading">Note that</h4>

    <p>Some of these settings aren&rsquo;t applicable when stream mode is enabled.</p>
<p>For a more detailed overview on how <code>stream mode</code> functions in Crowdsec, take a look at the developer’s <a href="https://docs.crowdsec.net/docs/local_api/bouncers#stream-mode">documentation</a>.</p>


</div>

<p><strong>Now, we need to choose the <code>Bouncing Level</code>. There are three choices</strong></p>
<ul>
<li><strong>Bouncing disabled:</strong> No ban or Captcha display to users. The road is free, even for attackers. (No action will be taken)</li>
<li><strong>Flex bouncing:</strong> Display Captcha only, even if CrowdSec advises to ban the IP.</li>
<li><strong>Normal bouncing:</strong> Follow CrowdSec advice (Ban or Captcha).</li>
</ul>


<div class="alert alert-primary" role="alert">


    <p><strong>Tip:</strong></p>
<p><code>Normal Bouncing</code> would be the best option if you are facing an imminent or persistent attack. <code>Flex bouncing</code> will only use captcha even if the decision from Crowdsec was <code>ban</code>. That will help in reducing the false positive bans to legitimate visitors when there is no attack.</p>


</div>

<h5 id="how-to-test-the-communication-between-crowdsec-and-the-wordpress-plugin">How to test the communication between Crowdsec and the Wordpress plugin.</h5>
<p>We can manually ban a specific IP address using Crowdsec Then, we can observe how long it takes for the plugin to pick up the decision.</p>
<p><strong>To manually enforce a decision, we need to run:</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>cscli decisions add –ip xxx.xxx.xxx.xxx
</span></span></code></pre></div><p><strong>To check the current decisions, run:</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>cscli decisions list
</span></span></code></pre></div><p><strong>We should find our banned address here</strong>
<img src="../images/ddos/13.png" alt=""></p>
<p>Now, if everything is working properly, <strong>we should get the following prompt screen when we try to access the website from the banned address.</strong></p>
<p><img src="../images/ddos/14.png" alt=""></p>
<p>Depending on the settings we discussed before, the plugin might take some time to synchronize the decisions from the API. <strong>Adjusting this time window can help increase the effectiveness of mitigating different types of attacks.</strong></p>
<p>For example, to respond to an attack using a wide range of IP addresses from different locations, we will need to minimize the synchronization time as much as possible.
However, we need to adjust the parameters gradually to prevent overwhelming the hardware capacities of the server or creating too many background requests.</p>
<p>Getting the most suitable parameters for each machine, server setup, and attack scenario will take some fiddling and observation.</p>
<h5 id="technical-notes">Technical notes</h5>
<p><strong>WP-Cron</strong></p>
<p>By default, WordPress uses WP-Cron to schedule its routine tasks. This should be sufficient in most cases. However, in some cases – especially with resource-hungry websites – using the operating system&rsquo;s own scheduler might be better for performance.</p>
<p>Some custom Wordpress themes and plugins might be affected by changing this configuration, please consult the documentations below before trying</p>
<ul>
<li><a href="https://developer.wordpress.org/plugins/cron/hooking-wp-cron-into-the-system-task-scheduler/">Hooking WP-Cron Into the System Task Scheduler</a></li>
<li><a href="https://docs.Crowdsec.net/docs/bouncers/wordpress/#how-to-use-system-cron-instead-of-wp-cron">How to use system CRON instead of wp-cron?</a></li>
</ul>
<p><strong>Caching and external scripts</strong></p>
<p>Crowdsec will monitor and react to all requests going through normal Wordpress core loading.
In some cases, such as some caching or content management plugins, external PHP scripts are run directly. Consult your website developer and review the installed and activated plugins, and if that is the case, check out the documentation, here.</p>
<p><strong>Other use cases</strong></p>
<p>Crowdsec has bouncers for other services and use cases. You can check them out, here.</p>
<p><strong>Guides for different Crowdsec configuration scenarios</strong></p>
<ul>
<li><a href="https://docs.Crowdsec.net/docs/bouncers/wordpress/">Crowdsec bouncer for wordpress</a></li>
<li><a href="https://docs.Crowdsec.net/docs/local_api/bouncers#stream-mode">What is stream mode</a></li>
<li><a href="https://www.Crowdsec.net/blog/installing-and-configuring-Crowdsec-into-cloudflare">Using Crowdsec alongside Cloudflare</a></li>
<li><a href="https://www.Crowdsec.net/blog/mitigate-ddos-with-Crowdsec">Configuration example for DDoS mitigation</a></li>
<li><a href="https://docs.Crowdsec.net/docs/getting_started/install_Crowdsec/">Guide on Crowdsec installation</a></li>
<li><a href="https://github.com/Crowdsecurity/cs-wordpress-bouncer/blob/main/docs/USER_GUIDE.md#description">Guide on Wordpress bouncer configuration</a></li>
<li><a href="https://www.Crowdsec.net/blog/how-to-beat-application-ddos">Guide on best practices for application layer DDoS mitigation</a></li>
</ul>
<hr>
<h4 id="best-practices-and-server-optimization">Best practices and server optimization</h4>
<p>Following best practices while creating and configuring the server will be of great help in the event of dealing with a DDoS attack. One very important aspect is using different server caching mechanisms and optimizing server performance and capacity.</p>
<p>Caching means the server will keep a cached (pre-rendered) copy of the content and serve it directly without the need to run the whole code and render a new result for every request, as long as the content is unchanged. This will not only help with DDoS resilience and mitigation but will provide improvement to the overall performance of the website or service.</p>
<p><strong>For example</strong>, enabling caching using Nginx fastcgi or Redis helps reduce the load on the hosting server as it serves pre-rendered content as long as no changes were made to the content on the website.</p>
<ul>
<li><a href="https://www.linode.com/docs/guides/how-to-use-nginx-fastcgi-page-cache-with-wordpress/">Guide to Nginx fastcgi configuration</a></li>
<li><a href="https://www.digitalocean.com/community/tutorials/how-to-configure-redis-caching-to-speed-up-wordpress-on-ubuntu-14-04">Guide to Redis caching configuration</a></li>
<li><a href="https://wordops.net/f-a-q/">Using Wordops to automate Wordpress-based website installation and configuration with recommended best practices in mind</a></li>
</ul>
<hr>
<h3 id="mitigation-using-external-services">Mitigation using external services</h3>
<p>Alongside the measures that can be implemented through self-hosted server configuration, there are a number of external services that can also aid in DDoS mitigation.</p>
<p>Where self-hosted server configuration allows for a higher degree of specialization and gives you complete control over the flow of your data, the range of external services discussed below – which include web application firewalls, content delivery networks, and caching – bring the benefits of a wider net born out of the more macro view these service providers have.</p>
<p><strong>Before jumping into the potential services</strong>, let’s take a moment to explain each of these services. Ultimately, many service providers offer a mix of the various services in a single offer, but it is helpful to understand each of them in isolation.</p>
<h4 id="web-application-firewall-waf">Web application firewall (WAF)</h4>
<p>A Web application firewall (WAF) is a custom type of firewall software that is specifically designed to work with specific types of applications. It can thus be configured to monitor all traffic related to this application, detect certain patterns and indications of malicious behavior, and respond to it using pre-set rules.</p>
<h4 id="content-delivery-network-cdn">Content delivery network (CDN)</h4>
<p>CDN services such as Cloudflare, Google Cloud CDN, and others all employ a global network of content caching and delivery networks, basically caching and storing parts of the website that doesn’t change so often and serving the cached data to the visitor from the nearest server to their geographical location, ultimately decreasing latency, improving load times, the overall performance for the website, and most importantly– for our case here – reducing the load and processing demands on the origin server.</p>
<h4 id="caching">Caching</h4>
<p>Alongside caching tactics that can be implemented on the server in order to serve pre-rendered content, external services also have their own caching mechanisms that can help optimize performance and prevent resource drains.</p>
<h4 id="cloudflare">Cloudflare</h4>
<p>Cloudflare offers a variety of web services. Here, we will focus only on services that are most effective for DDoS mitigation.</p>
<h5 id="project-galileo">Project Galileo</h5>
<p>Some of the features we will be recommending in this guide aren&rsquo;t available on Cloudflare’s free tier. However, since the main targeted audience here are NGOs, human rights related content, and independent media organizations, there is a dedicated program through which Cloudflare offers support for organizations that might fit that criteria.</p>
<p>For more information on project Galileo and how to <a href="https://www.cloudflare.com/galileo/">apply</a>, see here.</p>
<h5 id="live-logs">Live logs</h5>
<p>One of the most important features will be the intuitive events processing and filtering interface.</p>
<p>Through this interface, we can monitor the requests coming to the website as well as search through the logs using advanced filters, which will help in identifying the patterns of the attack and create specific firewall rules to mitigate.</p>
<p><img src="../images/ddos/15.png" alt=""></p>
<p>We are also able to search through the events using advanced filters. For example, we can search all the traffic coming from a specific country which is requesting a specific path.</p>


<div class="alert alert-primary" role="alert">
<h4 class="alert-heading">Learn more</h4>

    Click <a href="https://developers.cloudflare.com/logs/reference/log-fields/zone/firewall_events/">here</a> to find out more about Cloudflare Firewall Events interface.

</div>

<h5 id="web-application-firewall-waf-1">Web Application Firewall (WAF)</h5>
<p>On Cloudflare, we can create sets of custom access control and firewall rules, configure them to trigger certain responses based on certain rules and indications, and we can also arrange them in terms of priority.</p>
<p>Cloudflare offers some automated firewall rules as well, specifically curated for well known attack vectors for various widely used applications, such as Wordpress or Drupal, or attack vectors, such as SQL injection or DDoS attacks.</p>


<div class="alert alert-primary" role="alert">
<h4 class="alert-heading">Learn more</h4>

    You can review more about Cloudflare’s managed rules, <a href="https://developers.cloudflare.com/waf/managed-rules/">here</a>.

</div>

<h5 id="rate-limiting">Rate Limiting</h5>
<p><strong>Rate limiting</strong> is a very important feature in DDoS mitigation. How it ultimately works is through setting rules that limit the amount of requests allowed from a specific source. See the setting window below:</p>
<p><img src="../images/ddos/16.png" alt=""></p>
<p>After the pre-set amount is exceeded a certain measure will be triggered. The response can include blocking the source for a period of time or indefinitely. Alternatively, it can be “challenged,” which means requests coming from the potentially malicious source will be redirected to what can be described as “an obstacle page” to slow down and verify its requests.</p>
<p>This obstacle can include a CAPTCHA or simply a loading page that redirects to the original website after a short wait.
You can read more on rate limiting on Cloudflare, <a href="https://developers.cloudflare.com/waf/rate-limiting-rules/">here</a>.</p>


<div class="alert alert-primary" role="alert">
<h4 class="alert-heading">Learn more</h4>

    You can also read about Cloudflare’s automated DDoS protection, <a href="https://developers.cloudflare.com/ddos-protection/">here</a>.

</div>

<hr>
<h4 id="google-shield">Google Shield</h4>
<p><strong>Shield</strong> is a DDoS protection service developed and maintained by the <a href="https://jigsaw.google.com/">Jigsaw</a> unit at Google. The service is focused on <a href="https://support.projectshield.withgoogle.com/s/?language=en_US">supporting</a> independent media organizations, news outlets, and human rights organizations that could face DDoS attacks.</p>
<p>Shield offers a DDoS protection <a href="https://support.projectshield.withgoogle.com/s/article/FAQs?language=en_US">service</a> that leverages a combination of caching and automated rate-limiting to mitigate DDoS attacks. It functions as a reverse-proxy standing between the origin server and the visitor/client, serving the cached content through Google’s content distribution network (CDN).</p>
<p>The service is offered for free. You do, however, need to apply for it. Check out the application instructions and criteria <a href="https://support.projectshield.withgoogle.com/s/article/How-to-apply-for-Project-Shield?language=en_US">here</a>.</p>
<hr>
<h4 id="deflect">Deflect</h4>
<p><a href="https://deflect.ca">Deflect</a> is a DDoS mitigation service built by <a href="https://equalit.ie/">eQualitie</a>. The service is focused on supporting non-profit organizations at risk.</p>
<p>You can check the supported criteria and application instructions <a href="https://deflect.ca/non-profits/">here</a>.</p>
<hr>

</div>



    
      
  
  
  
  

  
  

  

    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-8efbf7499fe9c7bde8d2c1bb7ff6ee3c">7 - Contribution Guidelines</h1>
    <div class="lead">How to contribute to the docs</div>
	

<div class="pageinfo pageinfo-primary">
<p>This project is hoping to create a knowledge repository of accumulated experience in the fight for a free and open Internet. All our documentations, guides, code, and research are published under <a href="https://www.gnu.org/licenses/quick-guide-gplv3.html">GNU General Public License (GPLv3)</a></p>
<p>We welcome and appreciate any contributions, suggestions, and critique.</p>

</div>

<p>We use <a href="https://gohugo.io/">Hugo</a> to format and generate our website, the
<a href="https://github.com/google/docsy">Docsy</a> theme for styling and site structure,
and <a href="https://www.github.com/">GitHub</a> to deploy and host the site.</p>
<p><a href="https://gohugo.io/">Hugo</a> is an open-source static site generator that provides us with templates,
content management in a standard directory structure, and a website generation
engine. You write the pages in Markdown (or HTML if you want), and Hugo wraps them up into a website.</p>


<div class="alert alert-primary" role="alert">


    <p><strong>This Project and all it&rsquo;s related materials are hosted on <a href="https://github.com/icaruslab">GitHub</a>.</strong></p>
<p>We use GitHub pull requests to receive contributions and submissions,  Consult <a href="https://help.github.com/articles/about-pull-requests/">GitHub Help</a> for more information on using pull requests.</p>


</div>

<h2 id="creating-an-issue">Creating an issue</h2>
<p>If you&rsquo;ve found a problem in the docs, but you&rsquo;re not sure how to fix it yourself, please create an issue in the <a href="https://github.com/icaruslab/docs/issues">Documentations repo</a>. You can also create an issue about a specific page by clicking the <strong>Create Issue</strong> button in the top right hand corner of the page.</p>
<h2 id="useful-resources">Useful resources</h2>
<ul>
<li><a href="https://www.docsy.dev/docs/">Docsy user guide</a>: All about Docsy Hugo theme, including how it manages navigation, look and feel, and multi-language support.</li>
<li><a href="https://gohugo.io/documentation/">Hugo documentation</a>: Comprehensive reference for Hugo.</li>
<li><a href="https://guides.github.com/activities/hello-world/">Github Hello World!</a>: A basic introduction to GitHub concepts and workflow.</li>
</ul>
<h2 id="updating-a-single-page">Updating a single page</h2>
<p>If you&rsquo;ve just spotted something you&rsquo;d like to change while using the docs, Docsy has a shortcut for you:</p>
<p>1- Click <strong>Edit this page</strong> in the top right hand corner of the page.
2- If you don&rsquo;t already have an up to date fork of the project repo, you are prompted to get one - click <strong>Fork this repository and propose changes</strong> or <strong>Update your Fork</strong> to get an up to date version of the project to edit. The appropriate page in your fork is displayed in edit mode.</p>
<h2 id="previewing-your-changes-locally">Previewing your changes locally</h2>
<p>If you want to run your own local Hugo server to preview your changes as you work:</p>
<p>1- Follow the instructions here <a href="https://gohugo.io/getting-started/quick-start/">Getting started</a> to install Hugo and any other tools you need. You&rsquo;ll need at least <strong>Hugo version 0.45</strong> (we recommend using the most recent available version), and it must be the <strong>extended</strong> version, which supports SCSS.</p>
<p>2- Fork the <a href="https://github.com/icaruslab/docs">project website repository</a> repo into your own project, clone it to your local machine</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>git clone <span style="color:#ff79c6">[</span>your fork address<span style="color:#ff79c6">]</span>
</span></span></code></pre></div><p>3- Run <code>hugo server</code> in the site root directory.</p>
<blockquote>
<p>By default your site will be available at http://localhost:1313/. Now that you&rsquo;re serving your site locally, Hugo will watch for changes to the content and automatically refresh your site.</p>
</blockquote>
<p>4- Continue with the usual <a href="https://guides.github.com/activities/hello-world/">GitHub workflow</a> to edit files, commit them, push the changes up to your fork, and create a pull request.</p>
<h2 id="localization">Localization</h2>
<p>We hope our documentations will be accessible to as many people as possible, if you find it useful and willing to localize it to unavailable language, or have suggestions to improve an existing translation, we welcome and appreciate your efforts, we use <a href="https://guides.github.com/activities/hello-world/">GitHub workflow</a>.</p>
<p>After forking the website repository to your own project/account</p>
<ul>
<li>Create a directory under <code>content</code> i.e. <code>content/ar</code></li>
<li>Add the new language under <code>[languages]</code> in <code>config.toml</code></li>
</ul>
<h3 id="example-of-the-required-values">Example of the required values</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-toml" data-lang="toml"><span style="display:flex;"><span>[languages.en]
</span></span><span style="display:flex;"><span>		title = <span style="color:#f1fa8c">&#34;Icarus Project&#34;</span>
</span></span><span style="display:flex;"><span>		description = <span style="color:#f1fa8c">&#34;Testign and documenting Internet censorship circumvention techniques&#34;</span>
</span></span><span style="display:flex;"><span>		languageName =<span style="color:#f1fa8c">&#34;English&#34;</span>
</span></span><span style="display:flex;"><span>		languagedirection = <span style="color:#f1fa8c">&#34;ltr&#34;</span>
</span></span><span style="display:flex;"><span>		contentDir = <span style="color:#f1fa8c">&#34;content/en&#34;</span>
</span></span><span style="display:flex;"><span>    weight = <span style="color:#bd93f9">1</span>
</span></span><span style="display:flex;"><span>    time_format_default = <span style="color:#f1fa8c">&#34;02.01.2006&#34;</span>
</span></span><span style="display:flex;"><span>		time_format_blog = <span style="color:#f1fa8c">&#34;02.01.2006&#34;</span>
</span></span></code></pre></div><ul>
<li>Follow <a href="https://www.docsy.dev/docs/language/#internationalization-bundles">Docsy&rsquo;s guide</a> on how to translate the theme&rsquo;s UI strings (text for buttons etc.)</li>
<li>Submit your changes in a pull request</li>
</ul>
<h3 id="available-languages">available Languages</h3>
<ul>
<li>
<p><input disabled="" type="checkbox"> Arabic (coming soon!)</p>
</li>
<li>
<p><input checked="" disabled="" type="checkbox"> English</p>
</li>
</ul>

</div>



    
      
  
  
  
  

  
  

  

    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-8df6ea6904416b571ff9bc73afb50933">8 - References</h1>
    <div class="lead">Referenced Projects, tools, and reading materials</div>
	<ul>
<li><a href="https://ooni.org/">Open Observatory of Network Interference (OONI)</a></li>
<li>CloudFlare : <a href="https://blog.cloudflare.com/encrypt-that-sni-firefox-edition/">Encrypt that SNI: Firefox edition</a></li>
<li>CloudFlare : <a href="https://blog.cloudflare.com/encrypted-sni/">Encrypt it or lose it: how encrypted SNI works</a></li>
<li>IETF : <a href="https://tools.ietf.org/html/rfc3546">Transport Layer Security (TLS) Extensions</a></li>
<li>IETF : <a href="https://tools.ietf.org/html/draft-ietf-tls-esni-07">TLS Encrypted Client Hello - draft-ietf-tls-esni-07</a></li>
<li>Chromium Support Status :  <a href="https://bugs.chromium.org/p/chromium/issues/detail?id=908132">Issue 908132</a></li>
<li><a href="https://defo.ie/">Developing ESNI for OpenSSL (DEfO)</a></li>
<li>Mozilla : <a href="https://blog.mozilla.org/security/2018/10/18/encrypted-sni-comes-to-firefox-nightly/">Encrypted SNI Comes to Firefox Nightly - October 18, 2018</a></li>
<li>If you want to test ESNI further, or develop something for it - <a href="https://github.com/SixGenInc/Noctilucent">Noctilucent</a></li>
<li>For better understanding of <a href="https://www.cloudflare.com/learning/dns/dns-over-tls/">DNS over HTTPS (DoH)</a> and other <a href="https://dnsprivacy.org/wiki/">DNS privacy related materials</a></li>
<li><a href="https://ipfs.io/#install">IPFS - Get Started</a></li>
<li><a href="https://github.com/alecmuffett/eotk">The Enterprise Onion Toolkit (EOTK)</a></li>
<li><a href="https://www.torproject.org/download/">Tor Project website</a>       <strong>If Internet censorship is in place in your country, there is a fairly chance this website is <em>blocked</em></strong></li>
<li><a href="https://github.com/TheTorProject/gettorbrowser/releases/tag/torbrowser-release"><strong>Tor Project repository on GitHub</strong></a></li>
<li><a href="https://archive.org/details/@gettor"><strong>The Internet Archive</strong></a></li>
<li><a href="https://drive.google.com/open?id=13CADQTsCwrGsIID09YQbNz2DfRMUoxUU"><strong>Google Drive</strong></a></li>
<li><a href="https://tor.eff.org/">EFF Tor mirror</a></li>
<li><a href="https://tor.calyxinstitute.org/">Calyx Institute Tor mirror</a></li>
<li><a href="https://tor.ccc.de/">Chaos Computer Club Tor mirror</a></li>
<li>We host an <strong>expermintal mirror for Tor Browser binary files on IPFS,</strong> you can reach it on <a href="https://ipfs.io/ipns/tor-ipfs.fightcensorship.tech">ipfs.io/ipns/tor-ipfs.fightcensorship.tech</a></li>
<li><a href="https://www.qurium.org/bifrost/">Qurium - Bifrost project</a></li>
<li><a href="https://netblocks.org/reports">NetBlock reports</a></li>
</ul>

</div>



    
      
  
  
  
  

  
  

  

    
	
  



          </main>
        </div>
      </div>
      
<footer class="bg-dark py-5 row d-print-none">
  <div class="container-fluid mx-sm-5">
    <div class="row">
      <div class="col-6 col-sm-4 text-xs-center order-sm-2">
        
        
        
<ul class="list-inline mb-0">
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="Matrix channel" aria-label="Matrix channel">
    <a class="text-white" target="_blank" rel="noopener" href="https://matrix.to/#/!kxgkaasHfjVIgsDvlx:matrix.org?via=matrix.org" aria-label="Matrix channel">
      <i class="fa fa-comment"></i>
    </a>
  </li>
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="Twitter" aria-label="Twitter">
    <a class="text-white" target="_blank" rel="noopener" href="https://twitter.com/IcarusProject0" aria-label="Twitter">
      <i class="fab fa-twitter"></i>
    </a>
  </li>
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="Mastodon" aria-label="Mastodon">
    <a class="text-white" target="_blank" rel="noopener" href="https://mastodon.online/web/accounts/41742" aria-label="Mastodon">
      <i class="fab fa-mastodon"></i>
    </a>
  </li>
  
</ul>

        
        
      </div>
      <div class="col-6 col-sm-4 text-right text-xs-center order-sm-3">
        
        
        
<ul class="list-inline mb-0">
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="GitHub" aria-label="GitHub">
    <a class="text-white" target="_blank" rel="noopener" href="https://github.com/icaruslab" aria-label="GitHub">
      <i class="fab fa-github"></i>
    </a>
  </li>
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="Send us an email" aria-label="Send us an email">
    <a class="text-white" target="_blank" rel="noopener" href="mailto:info@fightcensorship.tech" aria-label="Send us an email">
      <i class="fa fa-at"></i>
    </a>
  </li>
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="GPG Key" aria-label="GPG Key">
    <a class="text-white" target="_blank" rel="noopener" href="https://keyserver.ubuntu.com/pks/lookup?op=get&amp;search=0x8982de90bb823122bed49ba7b055b6a6adf40cda" aria-label="GPG Key">
      <i class="fa fa-key"></i>
    </a>
  </li>
  
</ul>

        
        
      </div>
      <div class="col-12 col-sm-4 text-center py-2 order-sm-2">
        <small class="text-white">&copy; 2023 GPLv3, All Rights Reserved</small>
        
	
      </div>
    </div>
  </div>
</footer>


    </div>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"
    integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN"
    crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.min.js"
    integrity="sha512-UR25UO94eTnCVwjbXozyeVd6ZqpaAE9naiEUBK/A+QDbfSTQFhPGj5lOR6d8tsgbBk84Ggb5A3EkjsOgPRPcKA=="
    crossorigin="anonymous"></script>


<script src="https://cdn.jsdelivr.net/npm/mermaid@8.13.4/dist/mermaid.min.js" integrity="sha512-JERecFUBbsm75UpkVheAuDOE8NdHjQBrPACfEQYPwvPG+fjgCpHAz1Jw2ci9EXmd3DdfiWth3O3CQvcfEg8gsA==" crossorigin="anonymous"></script>




<script src='../js/tabpane-persist.js'></script>




















<script src="../js/main.min.4775ce3b12b91f0032b9270bbceb5bb5634f8b87faf00c42d5cd537bc7392ce5.js" integrity="sha256-R3XOOxK5HwAyuScLvOtbtWNPi4f68AxC1c1Te8c5LOU=" crossorigin="anonymous"></script>




  </body>
</html>
