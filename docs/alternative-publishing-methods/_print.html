<!doctype html>
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="generator" content="Hugo 0.91.2" />
<link rel="canonical" type="text/html" href="../../docs/alternative-publishing-methods.html">
<link rel="alternate" type="application/rss&#43;xml" href="../../docs/alternative-publishing-methods/index.xml">
<meta name="robots" content="noindex, nofollow">


<link rel="shortcut icon" href="../../favicons/favicon.ico" >
<link rel="apple-touch-icon" href="../../favicons/apple-touch-icon-180x180.png" sizes="180x180">
<link rel="icon" type="image/png" href="../../favicons/favicon-16x16.png" sizes="16x16">
<link rel="icon" type="image/png" href="../../favicons/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="../../favicons/android-36x36.png" sizes="36x36">
<link rel="icon" type="image/png" href="../../favicons/android-48x48.png" sizes="48x48">
<link rel="icon" type="image/png" href="../../favicons/android-72x72.png" sizes="72x72">
<link rel="icon" type="image/png" href="../../favicons/android-96x96.png" sizes="96x96">
<link rel="icon" type="image/png" href="../../favicons/android-144x144.png" sizes="144x144">
<link rel="icon" type="image/png" href="../../favicons/android-192x192.png" sizes="192x192">

<title>Alternative Publishing Methods | Icarus Project</title>
<meta name="description" content="Alternative Publishing Methods
">
<meta property="og:title" content="Alternative Publishing Methods" />
<meta property="og:description" content="Alternative Publishing Methods
" />
<meta property="og:type" content="website" />
<meta property="og:url" content="/docs/alternative-publishing-methods.html" /><meta property="og:image" content="/images/misc/logo.png"/><meta property="og:site_name" content="Icarus Project" />

<meta itemprop="name" content="Alternative Publishing Methods">
<meta itemprop="description" content="Alternative Publishing Methods
"><meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="/images/misc/logo.png"/>

<meta name="twitter:title" content="Alternative Publishing Methods"/>
<meta name="twitter:description" content="Alternative Publishing Methods
"/>




<link rel="preload" href="../../scss/main.min.6a112dfca6cdfa9a18713e2467ec5f8228ab220fa9cbb0d619edf1a3237b2793.css" as="style">
<link href="../../scss/main.min.6a112dfca6cdfa9a18713e2467ec5f8228ab220fa9cbb0d619edf1a3237b2793.css" rel="stylesheet" integrity="">

<script
  src="https://code.jquery.com/jquery-3.5.1.min.js"
  integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
  crossorigin="anonymous"></script>
<script
  src="https://unpkg.com/lunr@2.3.8/lunr.min.js"
  integrity="sha384-vRQ9bDyE0Wnu+lMfm57BlYLO0/XauFuKpVsZPs7KEDwYKktWi5+Kz3MP8++DFlRY"
  crossorigin="anonymous"></script>
<meta http-equiv="onion-location" content="http://icaruspbuyned3wm.onion" />
  </head>
  <body class="td-section">
    <header>
      
<nav class="js-navbar-scroll navbar navbar-expand navbar-dark flex-column flex-md-row td-navbar">
        <a class="navbar-brand" href="../../">
		<span class="navbar-logo"></span><span class="font-weight-bold ">Icarus Project</span>
	</a>
	<div class="td-navbar-nav-scroll ml-md-auto" id="main_navbar">
		<ul class="navbar-nav mt-2 mt-lg-0">
			
			
			<li class="nav-item mr-4 mb-2 mb-lg-0">
				
				
				
				
				
				
				
				
				<a class="nav-link" href="../../about.html" ><span>About</span></a>
			</li>
			
			<li class="nav-item mr-4 mb-2 mb-lg-0">
				
				
				
				
				
				
				
				
				<a class="nav-link active" href="../../docs.html" ><span class="active">Documentation</span></a>
			</li>
			
			<li class="nav-item mr-4 mb-2 mb-lg-0">
				
				
				
				
				
				
				
				
				<a class="nav-link" href="../../blog.html" ><span>Blog</span></a>
			</li>
			
			<li class="nav-item mr-4 mb-2 mb-lg-0">
				
				
				
				
				
				
				
				
				<a class="nav-link" href="../../community.html" ><span>Community</span></a>
			</li>
			
			<li class="nav-item mr-4 mb-2 mb-lg-0">
				
				
				
				
				
				
				
				
				<a class="nav-link" href="../../mirrors.html" ><span>Mirrors</span></a>
			</li>
			
			
			
		</ul>
	</div>
	<div class="navbar-nav d-none d-lg-block"><input type="search" class="form-control td-search-input" placeholder="&#xf002; Search this site…" aria-label="Search this site…" autocomplete="off">
</div>
</nav>

    </header>
    <div class="container-fluid td-outer">
      <div class="td-main">
        <div class="row flex-xl-nowrap">
          <main class="col-12 col-md-9 col-xl-8 pl-md-5" role="main">
            




<div class="td-content">
<div class="pageinfo pageinfo-primary d-print-none">
<p>
This is the multi-page printable view of this section.
<a href="#" onclick="print();return false;">Click here to print</a>.
</p><p>
<a href="../../docs/alternative-publishing-methods.html">Return to the regular view of this page</a>.
</p>
</div>



<h1 class="title">Alternative Publishing Methods</h1>
<div class="lead">Alternative Publishing Methods</div>




    <ul>
    
  
  
  
  

  
    
    
	
<li>1: <a href="#pg-fb3643402ea2c1b2743ebf00a44c7820">Tor</a></li>


    
    <ul>
        
  
  
  
  

  
    
    
	
<li>1.1: <a href="#pg-f36ecfbbaf9e4a4e829b0a21550d6529">Intro to Tor</a></li>


    
  
    
    
	
<li>1.2: <a href="#pg-c61b9bc9423b4630b66e739f975a37f3">EOTK</a></li>


    
  
    
    
	
<li>1.3: <a href="#pg-90969c637164b1e786e8631fb0b27257">Static Onion</a></li>


    
  

    </ul>
    
  
    
    
	
<li>2: <a href="#pg-7a223fbe9ffda78accaf5b105b058fa4">Interplanetary File System</a></li>


    
  
    
    
	
<li>3: <a href="#pg-a617b3c7505460c5d950bc8d61b43158">Encrypted SNI</a></li>


    
  

    </ul>


<div class="content">
      
</div>
</div>


  
  
  
  

  
  

  
    
    
	
    

<div class="td-content" style="">
    
	<h1 id="pg-fb3643402ea2c1b2743ebf00a44c7820">1 - Tor</h1>
    <div class="lead">Mirror a website on Tor network</div>
	

<div class="pageinfo pageinfo-primary">
<p>In this guide we will be introducing two different methods of <strong>creating a mirror for your website on Tor network</strong> using <strong>Tor Onion services</strong> formerly known as - <strong>Tor Hidden Services</strong>.</p>
<p>You will also find a brief introduction to Tor network and how access it if it&rsquo;s blocked in your country</p>

</div>


</div>



    
      
  
  
  
  

  
  

  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-f36ecfbbaf9e4a4e829b0a21550d6529">1.1 - Intro to Tor</h1>
    <div class="lead">Introduction to Tor network</div>
	<p>Required expertise level : <strong>Beginner / Intermediate</strong></p>
<p>Platform : <strong>Gnu/Linux | macOS | MS Windows | Android | BSD</strong></p>
<hr>


<div class="pageinfo pageinfo-primary">
<p><strong>This guide is an updated version of this <a href="https://www.madamasr.com/en/2019/12/25/feature/politics/beating-the-block-mada-masr-launches-tor-mirror/">article</a>, published by MadaMasr - An Egyptian independent media organization - in the context of releasing their own Onion mirror.</strong></p>

</div>

<h2 id="what-is-tor">What is Tor?</h2>

<div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
  <iframe src="https://www.youtube-nocookie.com/embed/JWII85UlzKw" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" allowfullscreen title="YouTube Video"></iframe>
</div>



<div class="alert alert-primary" role="alert">
<h4 class="alert-heading">Tor</h4>

    is the acronym for the original project that produced The Onion Router protocol, which protects the identity of internet users. It’s one of several technologies that have become widely used to roam the web freely and securely.

</div>

<p><strong>The project began in the mid-1990s</strong> and has gone through several phases. It is now administered by a not-for-profit organization, supervised by a community of its users and developers.</p>
<p>All Tor software is developed under <strong>open-source licenses</strong> and is publicly available for anyone to view and collaborate in improving.</p>
<h2 id="how-does-tor-work">How does Tor work?</h2>
<p><strong>Let’s imagine the journey of a data packet between a user and a server</strong> (i.e. a website), both connected to the internet. With a regular connection, the data packet moves from the user’s device through the local router and then to the servers of the Internet Server Provider (ISP). If the ISP’s servers allow the packet to pass, it will reach its destination, hassle-free.</p>
<p><strong><em>But what if you don’t want anyone to access your data packet, its destination or its content? Or to be able to block its journey?</em></strong></p>


<div class="alert alert-primary" role="alert">
<h4 class="alert-heading">Onion routing</h4>

    <p>allows your packet to take a different, more secure route to reach its final destination.</p>
<p>Your Tor client will choose a group of random nodes for the packet to move through until it reaches its final destination. It will then generate a set of keys on your computer, which are used to encrypt the data packet as many times as the number of nodes it will pass through in its journey before reaching the final exit node.</p>


</div>

<p><img src="../../images/onion-services/5.png" alt=""></p>
<p><strong>The encryption protocol</strong> allows each node the packet is passing through to decrypt just one layer of the encryption to get information about the next node the packet will pass through.</p>
<p>The aim of the onion routing protocol is for your packet to pass through a series of random nodes before reaching its final destination, <strong>with each node only receiving information about the nodes that directly proceed and follow it.</strong></p>
<p>None of the nodes — <em>except for the last one</em> — can access information about the data packet’s final destination or see what’s inside it. <strong>The final exit node decrypts the final layer and directs the packet to its intended destination on the internet.</strong></p>
<h2 id="who-runs-tor">Who runs Tor?</h2>


<div class="alert alert-primary" role="alert">
<h4 class="alert-heading">The organization</h4>

    operates several machines that serve as nodes on its network. Volunteers run thousands more nodes — all under the community’s supervision — to ensure data security.

</div>

<p><strong>Anyone can volunteer</strong> to host a node in the network given that they have the necessary technical capabilities and internet speed.</p>
<p>Neither the community nor the organization <strong>has the right or the ability to interfere with the encryption protocol because the encryption keys of each user are stored on their respective devices.</strong></p>


<div class="alert alert-warning" role="alert">


    <strong>Data packets are therefore completely encrypted within the Tor network.</strong>

</div>

<h2 id="whats-the-difference-between-using-tor-and-using-a-virtual-private-network-vpn">What’s the difference between using Tor and using a Virtual Private Network (VPN)?</h2>
<blockquote>
<p>VPN is the name given to different protocols and mechanisms that route the connection of one or more machines to a virtual network through which they can access the internet.</p>
</blockquote>
<p><strong>To do so,</strong> the VPN client creates an encrypted connection to the server of the virtual private network, which acts like a tunnel transferring data from the machine to the server before it reaches the internet. When the data gets to its final destination, it appears as if it were sent from the server of the virtual network.</p>
<p>VPN theoretically helps protect users’ anonymity as it hides their geographical locations and identities from the servers at the receiving end. Yet while VPN provides some privacy besides enabling users to access blocked websites, it doesn’t provide watertight protection.</p>
<p>Network admins can collect users’ data after decrypting them. Data can also be manipulated if users connect to websites and services that don’t use secure protocols, such as HTTPS.</p>
<p><strong>It’s also not advisable to use free VPN services</strong>, as many such services make money by collecting and selling user data. Others inadvertently transfer adware and, sometimes, malware from unprotected websites while browsing.</p>
<p>These are the main differences between using the Tor network and VPN services. Whether paid or free, VPN providers generally seek profit, and there isn’t a practical method to verify their user data security policies. Tor, on the other hand, is subject to clear transparency rules and the supervision of both developers and users.</p>
<p><strong>Additionally,</strong> it’s easy to block access to VPN service providers, either through tracking their respective routing protocols or intercepting connections. Authorities can also directly block VPN servers and websites, as is the case with some countries.</p>
<h2 id="whats-the-difference-between-onion-services-and-the-normal-web---clearnethttpsenwikipediaorgwikiclearnet_networking">What’s the difference between Onion Services and the normal web - <a href="https://en.wikipedia.org/wiki/Clearnet_(networking)">Clearnet</a>?</h2>
<p><strong>We’ve explained how Tor network operates by describing the journey of a data packet through the nodes</strong> until it reaches the exit node and then its destination on the internet.</p>
<p><strong>But what if the packet never leaves Tor network?</strong></p>
<p><strong>Onion services</strong> are used to grant access to servers operating completely within the Tor network that are only accessible using the onion routing protocol. These services can be accessed through randomly generated addresses (most of the time) ending with the special-use top-level domain suffix “.onion” (as opposed to the more common .com or .org).</p>
<p><strong>What this technique provides</strong> is a routing protocol between the user and the server so that neither has any information about the other.</p>


<div class="alert alert-primary" role="alert">


    Under optimum conditions in which all preferences are properly set by both parties, it is not possible to trace the server operating on Tor network, nor can the website’s admin collect any data that would reveal a user’s identity — barring, of course, a mistake or voluntary release of such information.

</div>

<h2 id="tor-browser">Tor Browser</h2>


<div class="alert alert-primary" role="alert">


    You can reach Tor Browser and download the installer for your respective operating system using the following links

</div>

<ul>
<li>
<p><a href="https://www.torproject.org/download/">Tor Project website</a>       <strong>If Internet censorship is in place in your country, there is a fairly chance this website is <em>blocked</em></strong></p>
</li>
<li>
<p><a href="https://github.com/TheTorProject/gettorbrowser/releases/tag/torbrowser-release"><strong>Tor Project repository on GitHub</strong></a></p>
</li>
<li>
<p><a href="https://archive.org/details/@gettor"><strong>The Internet Archive</strong></a></p>
</li>
<li>
<p><a href="https://drive.google.com/open?id=13CADQTsCwrGsIID09YQbNz2DfRMUoxUU"><strong>Google Drive</strong></a></p>
</li>
</ul>
<p><strong>Other mirrors</strong></p>
<ul>
<li>
<p><a href="https://tor.eff.org/">https://tor.eff.org/</a></p>
</li>
<li>
<p><a href="https://tor.calyxinstitute.org/">https://tor.calyxinstitute.org/</a></p>
</li>
<li>
<p><a href="https://tor.ccc.de/">https://tor.ccc.de/</a></p>
</li>
<li>
<p>We host an <strong>expermintal mirror for Tor Browser binary files on IPFS,</strong> you can reach it on <a href="https://ipfs.io/ipns/tor-ipfs.fightcensorship.tech">ipfs.io/ipns/tor-ipfs.fightcensorship.tech</a></p>
</li>
</ul>
<p><strong>Tor Project</strong> also provides another method to download its browser. <strong>Just send an email to <a href="mailto:gettor@torproject.org">gettor@torproject.org</a></strong> including the name of your operating system (Windows, OSX, Linux). You will receive a message containing links to download the browser via Google Drive and Dropbox, which aren’t blocked.</p>
<hr>
<p><strong>Tor Browser for Android is also available on the <a href="https://play.google.com/store/apps/details?id=org.torproject.torbrowser">Google Play Store</a></strong></p>


<div class="alert alert-primary" role="alert">


    You can also use Tor network’s proxy app <a href="https://play.google.com/store/apps/details?id=org.torproject.android"><strong>Orbot</strong></a>, which provides a similar service to VPNs. Orbot redirects the data from all the apps on your phone to go through Tor network. This can help override blocks placed on apps such as Signal and Wire, among others.

</div>

<p><img src="../../images/onion-services/3.gif" alt="Orbot VPN mode"></p>


<div class="alert alert-primary" role="alert">


    <p><strong>There isn’t an official version</strong> of Tor Browser for iPhone and iPad users because of the restrictions Apple places on apps. However, every now and then, independent developers come up with alternative browsers to access Tor network such as <a href="https://onionbrowser.com/"><strong>OnionBrowser</strong></a>.</p>
<p><strong>These browsers, however, don’t ensure the anonymity of users accessing content outside the Tor network.</strong></p>


</div>

<h2 id="when-tor-is-blocked-activate-bridges">When Tor is blocked, activate bridges</h2>

<div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
  <iframe src="https://www.youtube-nocookie.com/embed/DkEqWGF3cvg?autoplay=1" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" allowfullscreen title="YouTube Video"></iframe>
</div>



<div class="alert alert-primary" role="alert">


    Connection to Tor network usually gets restricted through blocking or jamming entry nodes because the addresses of most VPNs, as well as the protocols of nodes and relays, are openly available on the internet.

</div>

<p><strong>What makes fully blocking Tor network such a difficult task is that there are many ways to connect to it. One such way is by using bridges.</strong></p>
<p><strong>In a nutshell,</strong> bridges are servers run by volunteers whose addresses aren’t usually published openly. Bridges work as an intermediary between users and Tor network and help bypass blocks while hiding the connection from any party trying to analyze the network’s data.</p>
<h3 id="activating-bridges">Activating Bridges</h3>
<p><strong>Tor browser on Android phones</strong></p>
<p><img src="../../images/onion-services/1.gif" alt=""></p>
<p><strong>Tor’s Android client, Orbot</strong></p>
<p><img src="../../images/onion-services/2.gif" alt=""></p>
<p><strong>Tor browser on Desktop devices</strong></p>
<p><img src="../../images/onion-services/4.gif" alt=""></p>
<h3 id="websites-that-can-be-accessed-through-onion-services">Websites that can be accessed through .onion services</h3>
<ul>
<li>
<p><a href="https://www.bbcnewsv2vjtpsuy.onion/"><strong>BBC</strong></a></p>
</li>
<li>
<p><a href="https://www.nytimes3xbfgragh.onion/"><strong>The New York Times</strong></a></p>
</li>
<li>
<p><a href="https://protonirockerxow.onion/"><strong>ProtonMail</strong></a></p>
</li>
<li>
<p><a href="http://facebookcorewwwi.onion/"><strong>Facebook</strong></a></p>
</li>
<li>
<p><a href="https://madat5boo7oo5t2w.onion/"><strong>MadaMasr</strong></a></p>
</li>
</ul>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-c61b9bc9423b4630b66e739f975a37f3">1.2 - EOTK</h1>
    <div class="lead">How to create a dynamic Onion service mirror using <a href="https://github.com/alecmuffett/eotk">The Enterprise Onion Toolkit</a> - EOTK</div>
	<p>Required expertise level : <strong>Advanced</strong></p>
<p>Platform : <strong>Gnu/Linux | macOS | BSD</strong></p>
<hr>
<h2 id="introduction">Introduction</h2>
<blockquote>
<p>As described by it&rsquo;s own developer</p>
</blockquote>


<div class="alert alert-primary" role="alert">


    <p>EOTK provides <strong>a tool for deploying HTTP and HTTPS onion sites</strong> to provide official onion-networking presences for popular websites.</p>
<p>The result is essentially a &ldquo;man in the middle&rdquo; proxy; you should set them up only for your own sites, or for sites which do not require login credentials of any kind.</p>


</div>



<div class="alert alert-warning" role="alert">
<h4 class="alert-heading">Note</h4>

    <strong>A thorough <a href="https://github.com/alecmuffett/eotk/blob/master/docs.d/HOW-TO-INSTALL.md">implementation guide</a></strong> is available on the project&rsquo;s <strong><a href="https://github.com/alecmuffett/eotk">repository on GitHub</a></strong>, therefore, we will be providing translations in other <strong><a href="../../docs">available languages</a></strong> for our guides.

</div>


</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-90969c637164b1e786e8631fb0b27257">1.3 - Static Onion</h1>
    <div class="lead">Create Onion Service for your Static mirror</div>
	<p>Required expertise level : <strong>Advanced</strong></p>
<p>Platform : <strong>Linux / Ubuntu - Debian</strong></p>
<hr>


<div class="pageinfo pageinfo-primary">
<p>This guide will walk you through the process of creating <strong>Onion Service</strong> for you static website.</p>

</div>



<div class="alert alert-warning" role="alert">
<h4 class="alert-heading">Note</h4>

    <strong>This guide</strong> focuses on creating a simple Onion service mainly in the context of censorship circumvention, if you are more concerned with the anonymity Tor provides in Onion services you should not depend on this guide alone, reading and understanding <strong><a href="https://2019.www.torproject.org/docs/tor-onion-service.html.en">Tor project documentations</a></strong> will best practice in that case, <strong>as a ensuring full anonymity is an advanced and very details oriented process.</strong>

</div>

<hr>
<ul>
<li><strong>Install Nginx webserver</strong></li>
</ul>
<blockquote>
<p>Run the following commands in your terminal in their respective order</p>
</blockquote>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">sudo apt install software-properties-common
sudo add-apt-repository ppa:nginx/stable
sudo apt update <span style="color:#ff79c6">&amp;&amp;</span> sudo apt install nginx -y
</code></pre></div><p><img src="../../images/onion-services/6.png" alt=""></p>
<p>Confirm your installation by entering <code>nginx -v</code>, the output should look similar to this</p>
<ul>
<li><strong>Install Tor client</strong></li>
</ul>


<div class="alert alert-warning" role="alert">
<h4 class="alert-heading">Note</h4>

    <strong>If Tor Project Website and Tor communications are blocked in your country,</strong> probably the official <strong><a href="https://deb.torproject.org/torproject.org">software repositories</a></strong> are also blocked, in which case you should skip adding them and install Tor directly from <strong>your distribution&rsquo;s repositories.</strong>

</div>

<blockquote>
<p>Add in the following lines in <code>/etc/apt/sources.list</code></p>
</blockquote>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-fallback" data-lang="fallback">deb https://deb.torproject.org/torproject.org stretch main
deb-src https://deb.torproject.org/torproject.org stretch main
</code></pre></div><blockquote>
<p>Run the following commands in your terminal in their respective order</p>
</blockquote>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">curl https://deb.torproject.org/torproject.org/A3C4F0F979CAA22CDBA8F512EE8CBC9E886DDD89.asc | gpg --import
gpg --export A3C4F0F979CAA22CDBA8F512EE8CBC9E886DDD89 | sudo apt-key add -
sudo apt update <span style="color:#ff79c6">&amp;&amp;</span> apt install tor deb.torproject.org-keyring
sudo apt update <span style="color:#ff79c6">&amp;&amp;</span> sudo apt install tor
</code></pre></div><blockquote>
<p>Run the following commands to start Tor daemon</p>
</blockquote>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">sudo systemctl start tor
sudo systemctl <span style="color:#8be9fd;font-style:italic">enable</span> tor
</code></pre></div><blockquote>
<p>Confirm Tor is running without issues</p>
</blockquote>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">sudo systemctl status tor
tor --version
</code></pre></div><p><img src="../../images/onion-services/7.png" alt=""></p>
<ul>
<li><strong>Configure Tor client</strong></li>
</ul>
<blockquote>
<p><strong>Open</strong> Tor config file at <code>/etc/tor/torrc</code> with your favorite editor</p>
</blockquote>
<p><code>vim /etc/tor/torrc</code></p>
<blockquote>
<p><strong>Uncomment</strong> the following lines by removing the <code>#</code>, and optionally, replace the directory name in <code>/var/lib/tor/hidden_service/</code> with different name, specially if you are planning on hosting multiple Onion Services on the same server. i.e. <code>/var/lib/tor/myfirstonion/</code></p>
</blockquote>
<ul>
<li><strong>Before:</strong></li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"> <span style="color:#bd93f9">72</span> <span style="color:#6272a4">#HiddenServiceDir /var/lib/tor/hidden_service/</span>
 <span style="color:#bd93f9">73</span> <span style="color:#6272a4">#HiddenServicePort 80 127.0.0.1:80</span>
</code></pre></div><ul>
<li><strong>After</strong>:</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">HiddenServiceDir /var/lib/tor/myfirstonion/
HiddenServicePort <span style="color:#bd93f9">80</span> 127.0.0.1:80
</code></pre></div><blockquote>
<p>Restart Tor service</p>
</blockquote>
<p><code>sudo systemctl restart tor</code></p>
<blockquote>
<p>Confirm your Onion Service related files were generated at <code>/var/lib/tor/myfirstonion/</code></p>
</blockquote>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#8be9fd;font-style:italic">cd</span> /var/lib/tor/myfirstonion/ <span style="color:#ff79c6">&amp;&amp;</span> ls
</code></pre></div><p>You should find two files generated at this directory</p>
<p>1- <code>hostname</code> <strong>contains your Onion Service address</strong></p>
<p>2- <code>private_key</code> <strong>Private key used for encryption. Don&rsquo;t edit or share this file under any circumstances</strong></p>
<p><img src="../../images/onion-services/8.png" alt=""></p>
<ul>
<li><strong>Configure Nginx Webserver</strong></li>
</ul>
<p><strong>It&rsquo;s very important to read Nginx documentations and follow the <a href="https://riseup.net/en/security/network-security/tor/onionservices-best-practices">best practices</a> when configuring your Onion Service</strong></p>
<p>But essentially, you can get your Onion Service up &amp; running by adding this simple config file to your <code>/etc/nginx/sites-enabled</code></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-nginx" data-lang="nginx"><span style="color:#ff79c6">server</span> {
    <span style="color:#ff79c6">listen</span> 127.0.0.1:<span style="color:#bd93f9">80</span>;
    <span style="color:#ff79c6">server_name</span> <span style="color:#f1fa8c">[onion-address]</span>; <span style="color:#6272a4">#replace with your generated onion address, you can get that by executing : `cat /var/lib/[yourservicename]/hostname`
</span><span style="color:#6272a4"></span>    <span style="color:#ff79c6">root</span> <span style="color:#f1fa8c">/var/www/html/mystaticmirror</span>; <span style="color:#6272a4">#replace with your mirror&#39;s files directory, and make sure the webserver user has access permissions to it.
</span><span style="color:#6272a4"></span>    <span style="color:#ff79c6">client_max_body_size</span> <span style="color:#f1fa8c">99M</span>;
    <span style="color:#ff79c6">port_in_redirect</span> off;
    <span style="color:#ff79c6">charset</span> <span style="color:#f1fa8c">utf-8</span>;
    <span style="color:#ff79c6">index</span> <span style="color:#f1fa8c">index.html</span>;
<span style="color:#ff79c6">location</span> <span style="color:#f1fa8c">/</span> {
    <span style="color:#ff79c6">autoindex</span> off;
}
}
</code></pre></div><ul>
<li><strong>Testing your setup</strong></li>
</ul>
<p><img src="../../images/onion-services/9.png" alt=""></p>
<p>Make sure Both Nginx and Tor client are restarted and running succesfully, then head to your Tor Browser and test your new Onion address.</p>
<ul>
<li><strong>[Optional] - announcing your new mirror for Tor browser users</strong></li>
</ul>


<div class="alert alert-primary" role="alert">


    <p><a href="https://community.torproject.org/onion-services/advanced/onion-location/"><strong>Onion-Location</strong></a> is a new feature implemented in Tor Browser.</p>
<p>It essentially allows you to <strong>announce your Onion mirror</strong> for Tor Browser users when they access your original website, through adding an <strong>HTTP Header</strong> using your webserver, or adding specific <strong>HTML <code>&lt;meta&gt;</code></strong> to your <code>index.html</code> page.</p>


</div>

<p><strong>HTTP Header</strong></p>
<ul>
<li>Apache</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-apache" data-lang="apache"><span style="color:#ff79c6">&lt;VirtualHost</span> <span style="color:#f1fa8c">*:443</span><span style="color:#ff79c6">&gt;</span>
       <span style="color:#8be9fd;font-style:italic">ServerName</span> &lt;your-website.tld&gt;
       <span style="color:#8be9fd;font-style:italic">DocumentRoot</span> <span style="color:#f1fa8c">/path/to/htdocs</span>

       <span style="color:#8be9fd;font-style:italic">Header</span> set Onion-Location <span style="color:#f1fa8c">&#34;http://your-onion-address.onion%{REQUEST_URI}s&#34;</span>

       <span style="color:#8be9fd;font-style:italic">SSLEngine</span> <span style="color:#ff79c6">on</span>
       <span style="color:#8be9fd;font-style:italic">SSLCertificateFile</span> <span style="color:#f1fa8c">&#34;/path/to/www.example.com.cert&#34;</span>
       <span style="color:#8be9fd;font-style:italic">SSLCertificateKeyFile</span> <span style="color:#f1fa8c">&#34;/path/to/www.example.com.key&#34;</span>
     <span style="color:#ff79c6">&lt;/VirtualHost&gt;</span>
</code></pre></div><ul>
<li>Nginx</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-nginx" data-lang="nginx"><span style="color:#ff79c6">add_header</span> <span style="color:#f1fa8c">Onion-Location</span> <span style="color:#f1fa8c">http://&lt;your-onion-address&gt;.onion</span><span style="color:#8be9fd;font-style:italic">$request_uri</span>;
</code></pre></div><p><strong>HTML <code>&lt;meta&gt;</code></strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">&lt;<span style="color:#ff79c6">meta</span> <span style="color:#50fa7b">http-equiv</span><span style="color:#ff79c6">=</span><span style="color:#f1fa8c">&#34;onion-location&#34;</span> <span style="color:#50fa7b">content</span><span style="color:#ff79c6">=</span><span style="color:#f1fa8c">&#34;http://&lt;your-onion-service-address&gt;.onion&#34;</span> /&gt;
</code></pre></div>

<div class="alert alert-primary" role="alert">


    <strong>When</strong> everything is well configured and working, visitors of your original Clearnet website using Tor browser, should be notified about the availability of the Onion mirror and it&rsquo;s address.

</div>

<p><img src="../../images/onion-services/10.png" alt=""></p>

</div>



    
	
  

    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-7a223fbe9ffda78accaf5b105b058fa4">2 - Interplanetary File System</h1>
    <div class="lead">A peer-to-peer hypermedia protocol</div>
	<p>Required expertise level : <strong>Intermediate</strong></p>
<p>Platform : <strong>Gnu/Linux | macOS | MS Windows | Android | BSD</strong></p>
<hr>


<div class="alert alert-primary" role="alert">
<h4 class="alert-heading">Interplanetary File System - IPFS </h4>

    <p><strong>is A peer-to-peer hypermedia protocol</strong> which is being introduced as the future successor of HTTP.</p>
<p><strong>Being built on the peer-to-peer data exchange system,</strong> IPFS is practically difficult to block at least by current censorship techniques and standards, making it worth testing.</p>


</div>

<p><strong>While it&rsquo;s basically built as a data storage and distribution protocol,</strong> makes the way it functions different than most current day web hosting and cloud functions today, where in most cases, websites are basically web applications which processes and renders on a server then send the resulted web pages to the user.</p>
<p><strong>In IPFS case,</strong> there are no server nor processing capabilities, which mean that it&rsquo;s only capable of serving static or semi-static web pages, essentially anything which depends on client-side rendering and processing.
in this scenario, the browser gets to do most of job and IPFS just delivers raw files.</p>


<div class="alert alert-primary" role="alert">


    To learn about <strong>the difference between static and dynamic websites</strong>, refer the <a href="../../docs/getting-started/#what-is-the-difference-between-static-and-dynamic-websites"><strong>Getting Started</strong></a> section in the documentations.

</div>

<hr>
<h2 id="installing-ipfs">Installing IPFS</h2>
<ul>
<li>
<p><strong>MS Windows</strong></p>
<ul>
<li>Install the CLI tool using <strong><a href="https://chocolatey.org/packages/ipfs">Chocolatey</a></strong> windows package manager <code>choco install ipfs</code></li>
<li>Install the Desktop app (GUI) <strong><a href="https://chocolatey.org/packages/ipfs-desktop">Chocolatey</a></strong> <code>choco install ipfs-desktop</code></li>
<li>Or download the installation file directly from <a href="https://ipfs.io/#install">IPFS website</a></li>
</ul>
</li>
<li>
<p><strong>Gnu/Linux</strong></p>
<ul>
<li>Download and run the installation script for the Command Line Interface - CLI - tool from <a href="https://docs.ipfs.io/how-to/command-line-quick-start/#install-ipfs">IPFS website</a></li>
<li>Download and run the installation package for the Graphical User Interface - GUI - desktop app from <a href="https://github.com/ipfs-shipyard/ipfs-desktop#install">GitHub</a></li>
</ul>
</li>
<li>
<p><strong>macOS</strong></p>
<ul>
<li>Install using <strong><a href="https://docs.brew.sh/Installation">Homebrew</a></strong> package manager. <code>brew install ipfs</code></li>
<li>Download the Desktop app from <a href="https://github.com/ipfs-shipyard/ipfs-desktop#install">GitHub</a></li>
</ul>
</li>
</ul>
<p><img src="../../images/ipfs/1.png" alt="">IPFS Desktop app</p>
<hr>
<h2 id="adding-your-static-mirror-to-ipfs">Adding your static mirror to IPFS</h2>


<div class="alert alert-primary" role="alert">


    <strong>Adding your static mirror to IPFS</strong> is a very simple process but there are some configuration which should be considered to make sure your website will be easily accessible.

</div>

<ul>
<li><strong>After following <a href="https://docs.ipfs.io/how-to/command-line-quick-start/#initialize-the-repository">IPFS guides</a> on how to get the application on your machine running, confirm</strong></li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">❯ ipfs --version
ipfs version 0.6.0
</code></pre></div><ul>
<li>Using your termianl, go to your static mirror directory.</li>
<li>Run <code>ipfs add -Q  --recursive --progress mystaticmirror </code></li>
</ul>
<p><img src="../../images/ipfs/2.png" alt=""></p>


<div class="alert alert-primary" role="alert">
<h4 class="alert-heading">IPFS will</h4>

    start adding your files to it&rsquo;s <a href="https://docs.ipfs.io/concepts/glossary/#datastore">Datastore</a>, and creating a unique <a href="https://docs.ipfs.io/concepts/hashing/#hashes-are-important">hash</a> for every file, the hash of the root directory will be the final output, this will be the address of your mirror on IPFS network.

</div>

<ul>
<li>Now, we can try to access our mirror using IPFS and the hash of the root directory.</li>
</ul>
<p><img src="../../images/ipfs/3.png" alt=""></p>
<p><strong>There are two ways of accessing files on IPFS</strong></p>
<ul>
<li><strong>Using a gateway</strong>
<ul>
<li>IPFS Gateway  - <a href="https://ipfs.io">ipfs.io</a></li>
<li>CloudFlare Gateway - <a href="cloudflare-ipfs.com">cloudflare-ipfs.com</a></li>
<li>Pinata Gateway  - <a href="https://gateway.pinata.cloud">gateway.pinata.cloud</a></li>
</ul>
</li>
</ul>


<div class="alert alert-primary" role="alert">


    There are several online gateways that provides a bridge between normal web and data stored on IPFS, you can do that by going to the gateway in your browser while appending <strong><code>/ipfs/QmYn4A9jzkXob1iUPuwjpqxaMkrwE54ywvJUv2cE1s4egE</code></strong> to the URL.

</div>

<ul>
<li><strong>using the local client (peer-to-peer)</strong></li>
</ul>


<div class="alert alert-primary" role="alert">


    <p>This is the method IPFS should be functioning essentially.</p>
<p><strong>You need to have IPFS installed on your machine for this method to work.</strong></p>


</div>

<ul>
<li>Install <a href="https://github.com/ipfs-shipyard/ipfs-companion"><strong>IPFS Companion</strong></a> browser extension and make sur IPFS is running on you machine.</li>
<li><strong>When you enable the extension,</strong> it detects if your local IPFS daemon is running in the background and automatically rewrites any IPFS URL that contains a valid hash to be fetched using your local IPFS installation.</li>
</ul>
<p><img src="../../images/ipfs/4.png" alt=""></p>
<hr>
<h3 id="updating-a-website-on-ipfs">Updating a website on IPFS</h3>


<div class="alert alert-primary" role="alert">
<h4 class="alert-heading">Every time</h4>

    you update your static mirror with new content, you will need to add the new version to IPFS again.

</div>

<p><strong>As we mentioned earlier,</strong> IPFS depends on a hashing system to keep track of files, and since every file will create a unique hash, that means the final - root directory - hash will be different every time.</p>
<p>This situation <strong>presents a usability issue,</strong> as you will need somehow to share the new calculated hash with your audience every time you update your website, in order for them to be able to reach the most recent version of your website on IPFS.</p>
<h4 id="enters-the-interplanetary-name-system-ipnshttpsdocsipfsioconceptsipns">Enters the Interplanetary Name System <a href="https://docs.ipfs.io/concepts/ipns/">(IPNS)</a></h4>


<div class="alert alert-primary" role="alert">
<h4 class="alert-heading">IPNS</h4>

    provides a solution similar to the regular web Domain Name System (DNS).

</div>

<p>Using a locally generated key on your machine, IPNS will create a static hash, which will be published to the <a href="https://en.wikipedia.org/wiki/Distributed_hash_table">Distributed hash table (DHT)</a>, this key can be linked to another hash and store it as value.</p>
<p>Think about it (IPNS) as a domain name generator, it gives you a random hash, and register it in a table and store the most recent hash of your files as a value, IPFS users will just need the static IPNS hash to access your website.</p>
<ul>
<li>Generate a new IPFS key</li>
</ul>
<p><code>ipfs key gen --type=rsa --size=2048 mystaticsite</code></p>
<p><img src="../../images/ipfs/5.png" alt="">The output will be your new IPNS address</p>
<ul>
<li>Publish your IPNS address and link it with your mirror&rsquo;s most recent hash.</li>
</ul>
<p><code>ipfs name publish --key=mystaticsite [replace with your files most recent hash]</code></p>
<p><img src="../../images/ipfs/6.png" alt="">The output will confirmation for the linking between the IPNS address and the IPFS hash</p>
<ul>
<li>We can confirm that your new IPNS address is alive either by accessing it using a gateway i.e. | <strong><code>ipfs.io/ipns/[put your IPNS hash here]</code></strong> |, or <strong>enable IPFS Companion browser extension</strong> to be redirected automatically to your local gateway</li>
</ul>
<p><img src="../../images/ipfs/7.png" alt=""></p>


<div class="alert alert-primary" role="alert">
<h4 class="alert-heading">Note</h4>

    <p>If you are adding large files/directories to IPFS.</p>
<p>it might be a good idea to add <code>--nocopy</code> parameter in the first step:</p>
<p><code>ipfs add -Q  --recursive --nocopy --progress mystaticmirror </code></p>
<p>this will tell IPFS not to make a full copy of every file in it&rsquo;s datastore and will just create the hashes and use the original files, <strong>which will save disk space.</strong></p>


</div>


</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-a617b3c7505460c5d950bc8d61b43158">3 - Encrypted SNI</h1>
    <div class="lead">Encrypted Server Name Indication</div>
	<p>Required expertise level : <strong>Advanced</strong></p>
<p>Platform : <strong>Any</strong></p>
<hr>


<div class="alert alert-warning" role="alert">
<h4 class="alert-heading">Note</h4>

    <p>Encrypted Server Name Indication (ESNI), Now, <a href="https://www.ietf.org/archive/id/draft-ietf-tls-esni-10.txt">Encrypted Client Hello (ECH)</a>, is still undergoing a lot of changes and developments, and will probably see more changes before it reaches a production ready state, it&rsquo;s important to note that it&rsquo;s <strong>not yet production ready.</strong></p>
<p>The purpose of this guide was to introduce the new technology and a proof of concept &ldquo;based on our testing&rdquo; of the potential benefit of ESNI in the context of censorship circumvention. <strong>This guide is no longer valid and will be removed in the next update</strong>.</p>
<p>Both Cloudflare and Mozilla announced they are working on a compatible server and client implementation of the latest draft of ECH, we will keep following the updates and will test any new implementations as it&rsquo;s being introduced, and present our findings in the future.</p>
<p><strong>References</strong></p>
<ul>
<li><a href="https://www.ietf.org/archive/id/draft-ietf-tls-esni-10.txt">TLS Encrypted Client Hello (draft-ietf-tls-esni-10) - IETF</a></li>
<li><a href="https://blog.mozilla.org/security/2021/01/07/encrypted-client-hello-the-future-of-esni-in-firefox/">Encrypted Client Hello: the future of ESNI in Firefox - Mozilla</a></li>
<li><a href="https://blog.cloudflare.com/encrypted-client-hello/">Good-bye ESNI, hello ECH! - CloudFlare</a></li>
</ul>


</div>

<h3 id="what-is-server-name-indication-sni">What is Server Name Indication (SNI)?</h3>
<p><strong>Server Name Indication (SNI) is an extension to the Transport Layer Security (TLS) network encrypted protocol.</strong></p>


<div class="alert alert-primary" role="alert">


    <strong>Essentially,</strong> SNI&rsquo;s purpose is to send the requested domain name to the webserver in the form of plain/text HTTP header, so the server will send back the appropriate response to initiate the encrypted connection.

</div>

<p><strong>SNI was originally <a href="https://tools.ietf.org/html/rfc3546">standardized in 2003</a>,</strong> it&rsquo;s wide implementation is a big part of today&rsquo;s Internet infrastructure, mainly because it allowed hosting multiple websites with different domain names on the same webserver.</p>
<p>Since then, the SNI header is a main target in any Deep Packet Inspection (DPI) operations, to preliminarily detect traffic to specific host before blocking.  <a href="https://blog.cloudflare.com/encrypted-sni/">read more about SNI and the issues it presents</a></p>
<h3 id="what-is-encrypted-sni-and-how-can-it-help">What is Encrypted SNI and how can it help?</h3>


<div class="alert alert-primary" role="alert">


    <p><a href="https://tools.ietf.org/html/draft-ietf-tls-esni-06">Encrypted SNI (ESNI)</a> is a new suggested extension, it uses <a href="https://en.wikipedia.org/wiki/Public-key_cryptography"><strong>asymmetric encryption keys</strong></a> to encrypt the SNI header, the server publishes the public key <code>well-known</code> DNS record and the client fetches the key using DNS.</p>
<p>Current implementations of ESNI requires DNS over HTTPS (DoH) in order to work.</p>


</div>



<div class="alert alert-warning" role="alert">
<h4 class="alert-heading">Note</h4>

    Encrypted SNI is still not standardized, which means that it&rsquo;s still in early development stages and might undergo a lot of changes on it&rsquo;s way to be a widely implemented standard

</div>

<hr>
<h3 id="how-to-test-encrypted-sni">How to test Encrypted SNI?</h3>
<p>Some projects are trying to test for the best implementation of ESNI, or how to integrate it with major software stacks i.e. <a href="https://github.com/sftcd/nginx">Nginx</a>, and <a href="https://github.com/sftcd/openssl/tree/master/esnistuff">OpenSSL</a>.</p>
<p><strong>If you are interested in a deeper technical understanding of ESNI you can check out these projects</strong></p>
<ul>
<li><a href="https://defo.ie/">Developing ESNI for OpenSSL (DEfO)</a></li>
<li><a href="https://github.com/SixGenInc/Noctilucent">Noctilucent</a></li>
</ul>
<hr>


<div class="alert alert-primary" role="alert">


    In this guide, we will use the most stable and tested implementation which comes with CloudFlare and Mozilla Firefox

</div>

<h3 id="server-side">Server Side</h3>
<p><strong>Currently,</strong> the only stable and tested server side implementation of ESNI is <a href="https://blog.cloudflare.com/esni/">CloudFlare</a>.</p>
<p>All you have to do is to enable <strong>TLS 1.3</strong></p>
<p><strong>Log in</strong> to your <strong>CloudFlare account,</strong> select your <strong>domain name</strong>, go to &gt; <code>SSL/TLS</code> options, choose &gt; <code>Edge Certificates</code>, and make sure &gt; <code>TLS 1.3</code> is enabled.</p>
<p><img src="../../images/esni/1.png" alt=""></p>
<h3 id="client-side">Client Side</h3>
<p>Mozilla Firefox latest releases are shipped with TLSv1.3 and ESNI extension support, yet, it doesn&rsquo;t come enabled by default for now.</p>
<p><strong>To enable ESNI support in Mozilla Firefox</strong></p>
<ul>
<li>Make Firefox is updated to latest release</li>
</ul>
<p><img src="../../images/esni/2.png" alt=""></p>
<ul>
<li>Enable DNS over HTTPS (DoH) in <code>Preferences</code> &gt; <code>Network Settings</code> &gt; <code>Enable DNS over HTTPS</code></li>
</ul>
<p><img src="../../images/esni/3.png" alt=""></p>


<div class="alert alert-primary" role="alert">
<h4 class="alert-heading">Note</h4>

    <p>CloudFlare DoH resolver <strong>might be blocked</strong> in your country. <strong><a href="https://1.1.1.1/help">Check here</a>.</strong></p>
<p>If that&rsquo;s the case, you can try changing <code>Next DNS</code>, or choose <code>Custom</code> and test the public resolver - with DoH support -  from <strong><a href="https://dnsprivacy.org/wiki/display/DP/DNS+Privacy+Public+Resolvers">this list</a>.</strong></p>


</div>

<ul>
<li>Enable ESNI extension support
<ul>
<li>Open a <strong>new tab</strong> and type the address <code>about:config</code></li>
<li><strong>Click</strong> <code>Accept the Risk and Continue</code></li>
<li><strong>Search</strong> for <code>network.security.esni.enabled</code></li>
<li><strong>Click</strong> on the value to change it from <code>False</code> to <code>True</code></li>
</ul>
</li>
<li><strong>Restart</strong> your browser and test your settings <a href="https://www.cloudflare.com/ssl/encrypted-sni/">here</a></li>
</ul>
<p><img src="../../images/esni/4.png" alt=""></p>
<p><img src="../../images/esni/5.png" alt=""></p>


<div class="alert alert-primary" role="alert">
<h4 class="alert-heading">Test your website</h4>

    <p>by adding visiting this address in your browser <code>https://[yourdomain.com]/cdn-cgi/trace</code> i.e. <code>https://www.cloudflare.com/cdn-cgi/trace</code></p>
<p>You should get these <strong>values:</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-fallback" data-lang="fallback">tls=TLSv1.3
sni=encrypted
</code></pre></div>

</div>

<hr>
<h3 id="resources-and-readings">Resources and readings</h3>
<ul>
<li>CloudFlare : <a href="https://blog.cloudflare.com/encrypt-that-sni-firefox-edition/">Encrypt that SNI: Firefox edition</a></li>
<li>CloudFlare : <a href="https://blog.cloudflare.com/encrypted-sni/">Encrypt it or lose it: how encrypted SNI works</a></li>
<li>IETF : <a href="https://tools.ietf.org/html/rfc3546">Transport Layer Security (TLS) Extensions</a></li>
<li>IETF : <a href="https://tools.ietf.org/html/draft-ietf-tls-esni-07">TLS Encrypted Client Hello - draft-ietf-tls-esni-07</a></li>
<li>Chromium Support Status :  <a href="https://bugs.chromium.org/p/chromium/issues/detail?id=908132">Issue 908132</a></li>
<li><a href="https://defo.ie/">Developing ESNI for OpenSSL (DEfO)</a></li>
<li>Mozilla : <a href="https://blog.mozilla.org/security/2018/10/18/encrypted-sni-comes-to-firefox-nightly/">Encrypted SNI Comes to Firefox Nightly - October 18, 2018</a></li>
<li>If you want to test ESNI further, or develop something for it - <a href="https://github.com/SixGenInc/Noctilucent">Noctilucent</a></li>
<li>For better understanding of <a href="https://www.cloudflare.com/learning/dns/dns-over-tls/">DNS over HTTPS (DoH)</a> and other <a href="https://dnsprivacy.org/wiki/">DNS privacy related materials</a></li>
</ul>

</div>



    
	
  



          </main>
        </div>
      </div>
      
<footer class="bg-dark py-5 row d-print-none">
  <div class="container-fluid mx-sm-5">
    <div class="row">
      <div class="col-6 col-sm-4 text-xs-center order-sm-2">
        
        
        
<ul class="list-inline mb-0">
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="Matrix channel" aria-label="Matrix channel">
    <a class="text-white" target="_blank" rel="noopener" href="https://matrix.to/#/!kxgkaasHfjVIgsDvlx:matrix.org?via=matrix.org" aria-label="Matrix channel">
      <i class="fa fa-comment"></i>
    </a>
  </li>
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="Twitter" aria-label="Twitter">
    <a class="text-white" target="_blank" rel="noopener" href="https://twitter.com/IcarusProject0" aria-label="Twitter">
      <i class="fab fa-twitter"></i>
    </a>
  </li>
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="Mastodon" aria-label="Mastodon">
    <a class="text-white" target="_blank" rel="noopener" href="https://mastodon.online/web/accounts/41742" aria-label="Mastodon">
      <i class="fab fa-mastodon"></i>
    </a>
  </li>
  
</ul>

        
        
      </div>
      <div class="col-6 col-sm-4 text-right text-xs-center order-sm-3">
        
        
        
<ul class="list-inline mb-0">
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="GitHub" aria-label="GitHub">
    <a class="text-white" target="_blank" rel="noopener" href="https://github.com/icaruslab" aria-label="GitHub">
      <i class="fab fa-github"></i>
    </a>
  </li>
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="Send us an email" aria-label="Send us an email">
    <a class="text-white" target="_blank" rel="noopener" href="mailto:info@fightcensorship.tech" aria-label="Send us an email">
      <i class="fa fa-at"></i>
    </a>
  </li>
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="GPG Key" aria-label="GPG Key">
    <a class="text-white" target="_blank" rel="noopener" href="https://keyserver.ubuntu.com/pks/lookup?op=get&amp;search=0x8982de90bb823122bed49ba7b055b6a6adf40cda" aria-label="GPG Key">
      <i class="fa fa-key"></i>
    </a>
  </li>
  
</ul>

        
        
      </div>
      <div class="col-12 col-sm-4 text-center py-2 order-sm-2">
        <small class="text-white">&copy; 2022 GPLv3, All Rights Reserved</small>
        
	
      </div>
    </div>
  </div>
</footer>


    </div>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"
    integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN"
    crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.min.js"
    integrity="sha512-UR25UO94eTnCVwjbXozyeVd6ZqpaAE9naiEUBK/A+QDbfSTQFhPGj5lOR6d8tsgbBk84Ggb5A3EkjsOgPRPcKA=="
    crossorigin="anonymous"></script>


<script src="https://cdn.jsdelivr.net/npm/mermaid@8.13.4/dist/mermaid.min.js" integrity="sha512-JERecFUBbsm75UpkVheAuDOE8NdHjQBrPACfEQYPwvPG+fjgCpHAz1Jw2ci9EXmd3DdfiWth3O3CQvcfEg8gsA==" crossorigin="anonymous"></script>




<script src='../../js/tabpane-persist.js'></script>




















<script src="../../js/main.min.660660dbd0d9c175057fbb05f45ebbd9a96ab4258f65825f83a6de9116f3e694.js" integrity="sha256-ZgZg29DZwXUFf7sF9F672alqtCWPZYJfg6bekRbz5pQ=" crossorigin="anonymous"></script>






  </body>
</html>
