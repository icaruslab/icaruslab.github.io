<!doctype html>
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="generator" content="Hugo 0.82.0" /><META NAME="ROBOTS" CONTENT="INDEX, FOLLOW">


<link rel="shortcut icon" href="../../../favicons/favicon.ico" >
<link rel="apple-touch-icon" href="../../../favicons/apple-touch-icon-180x180.png" sizes="180x180">
<link rel="icon" type="image/png" href="../../../favicons/favicon-16x16.png" sizes="16x16">
<link rel="icon" type="image/png" href="../../../favicons/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="../../../favicons/android-36x36.png" sizes="36x36">
<link rel="icon" type="image/png" href="../../../favicons/android-48x48.png" sizes="48x48">
<link rel="icon" type="image/png" href="../../../favicons/android-72x72.png" sizes="72x72">
<link rel="icon" type="image/png" href="../../../favicons/android-96x96.png" sizes="96x96">
<link rel="icon" type="image/png" href="../../../favicons/android-144x144.png" sizes="144x144">
<link rel="icon" type="image/png" href="../../../favicons/android-192x192.png" sizes="192x192">

<title>Static Onion | Icarus Project</title><meta property="og:title" content="Static Onion" />
<meta property="og:description" content="Create Onion Service for your Static mirror
" />
<meta property="og:type" content="article" />
<meta property="og:url" content="/docs/alternative-publishing-methods/tor/staticonion.html" /><meta property="og:image" content="/images/misc/logo.png"/><meta property="article:section" content="docs" />

<meta property="article:modified_time" content="2020-09-20T02:33:10&#43;02:00" /><meta property="og:site_name" content="Icarus Project" />

<meta itemprop="name" content="Static Onion">
<meta itemprop="description" content="Create Onion Service for your Static mirror
">
<meta itemprop="dateModified" content="2020-09-20T02:33:10&#43;02:00" />
<meta itemprop="wordCount" content="611"><meta itemprop="image" content="/images/misc/logo.png"/>
<meta itemprop="keywords" content="" /><meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="/images/misc/logo.png"/>

<meta name="twitter:title" content="Static Onion"/>
<meta name="twitter:description" content="Create Onion Service for your Static mirror
"/>







<link rel="preload" href="../../../scss/main.min.f01fede27b90e99fa1748a6c804a9b3faccc27c67a16b7df656c83cfdd9c9c2c.css" as="style">
<link href="../../../scss/main.min.f01fede27b90e99fa1748a6c804a9b3faccc27c67a16b7df656c83cfdd9c9c2c.css" rel="stylesheet" integrity="">


<script
  src="https://code.jquery.com/jquery-3.5.1.min.js"
  integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
  crossorigin="anonymous"></script>

<script
  src="https://unpkg.com/lunr@2.3.9/lunr.min.js"
  integrity="sha384-203J0SNzyqHby3iU6hzvzltrWi/M41wOP5Gu+BiJMz5nwKykbkUx8Kp7iti0Lpli"
  crossorigin="anonymous"></script>



<link rel="stylesheet" href="../../../css/tabbed-pane.css"/>
<meta http-equiv="onion-location" content="http://icaruspbuyned3wm.onion" />

  </head>
  <body class="td-page">
    <header>
      
<nav class="js-navbar-scroll navbar navbar-expand navbar-dark flex-column flex-md-row td-navbar">
        <a class="navbar-brand" href="../../../">
		<span class="navbar-logo"></span><span class="text-uppercase font-weight-bold">Icarus Project</span>
	</a>
	<div class="td-navbar-nav-scroll ml-md-auto" id="main_navbar">
		<ul class="navbar-nav mt-2 mt-lg-0">
			
			
			<li class="nav-item mr-4 mb-2 mb-lg-0">
				
				
				
				
				
				
				
				
				<a class="nav-link" href="../../../about.html" ><span>About</span></a>
			</li>
			
			<li class="nav-item mr-4 mb-2 mb-lg-0">
				
				
				
				
				
				
				
				
				<a class="nav-link active" href="../../../docs.html" ><span class="active">Documentation</span></a>
			</li>
			
			<li class="nav-item mr-4 mb-2 mb-lg-0">
				
				
				
				
				
				
				
				
				<a class="nav-link" href="../../../blog.html" ><span>Blog</span></a>
			</li>
			
			<li class="nav-item mr-4 mb-2 mb-lg-0">
				
				
				
				
				
				
				
				
				<a class="nav-link" href="../../../community.html" ><span>Community</span></a>
			</li>
			
			<li class="nav-item mr-4 mb-2 mb-lg-0">
				
				
				
				
				
				
				
				
				<a class="nav-link" href="../../../mirrors.html" ><span>Mirrors</span></a>
			</li>
			
			
			
		</ul>
	</div>
	<div class="navbar-nav d-none d-lg-block">
<input type="search" class="form-control td-search-input" placeholder="&#xf002 Search this site…" aria-label="Search this site…" autocomplete="off">

</div>
</nav>

    </header>
    <div class="container-fluid td-outer">
      <div class="td-main">
        <div class="row flex-xl-nowrap">
          <div class="col-12 col-md-3 col-xl-2 td-sidebar d-print-none">
            




  


<div id="td-sidebar-menu" class="td-sidebar__inner">
  
  <form class="td-sidebar__search d-flex align-items-center">
    
<input type="search" class="form-control td-search-input" placeholder="&#xf002 Search this site…" aria-label="Search this site…" autocomplete="off">


    <button class="btn btn-link td-sidebar__toggle d-md-none p-0 ml-3 fas fa-bars" type="button" data-toggle="collapse" data-target="#td-section-nav" aria-controls="td-docs-nav" aria-expanded="false" aria-label="Toggle section navigation">
    </button>
  </form>
  
  <nav class="collapse td-sidebar-nav" id="td-section-nav">
    
    
    
    
    
    <ul class="td-sidebar-nav__section pr-md-3 ul-0">
      
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  <li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id="m-docshtml-li">
    <a href="../../../docs.html" class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section tree-root" id="m-docshtml"><span class="">Documentation</span></a>
    
      
      <ul class="pr-md-3 ul-1">
        
          
            
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docsoverviewhtml-li">
    <a href="../../../docs/overview.html" class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id="m-docsoverviewhtml"><span class="">Overview</span></a>
    
  </li>

          
        
          
            
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docsgetting-startedhtml-li">
    <a href="../../../docs/getting-started.html" class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id="m-docsgetting-startedhtml"><span class="">Getting Started</span></a>
    
  </li>

          
        
          
            
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  <li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id="m-docsstatic-mirroringhtml-li">
    <a href="../../../docs/static-mirroring.html" class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id="m-docsstatic-mirroringhtml"><span class="">Static mirroring</span></a>
    
      
      <ul class="pr-md-3 ul-2">
        
          
            
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docsstatic-mirroringwget-guidehtml-li">
    <a href="../../../docs/static-mirroring/wget-guide.html" class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id="m-docsstatic-mirroringwget-guidehtml"><span class="">Wget</span></a>
    
  </li>

          
        
          
            
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docsstatic-mirroringhttrack-guidehtml-li">
    <a href="../../../docs/static-mirroring/httrack-guide.html" class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id="m-docsstatic-mirroringhttrack-guidehtml"><span class="">HTTrack</span></a>
    
  </li>

          
        
          
            
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docsstatic-mirroringwppluginshtml-li">
    <a href="../../../docs/static-mirroring/wpplugins.html" class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id="m-docsstatic-mirroringwppluginshtml"><span class="">WordPress Plugins</span></a>
    
  </li>

          
        
          
            
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  <li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id="m-docsstatic-mirroringstatic-hostinghtml-li">
    <a href="../../../docs/static-mirroring/static-hosting.html" title="Static mirror hosting" class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id="m-docsstatic-mirroringstatic-hostinghtml"><span class="">Hosting</span></a>
    
      
      <ul class="pr-md-3 ul-3">
        
          
            
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docsstatic-mirroringstatic-hostingamazons3html-li">
    <a href="../../../docs/static-mirroring/static-hosting/amazons3.html" title="Hosting on Amazon S3" class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id="m-docsstatic-mirroringstatic-hostingamazons3html"><span class="">Amazon S3</span></a>
    
  </li>

          
        
          
            
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docsstatic-mirroringstatic-hostinggcshtml-li">
    <a href="../../../docs/static-mirroring/static-hosting/gcs.html" title="Hosting on Google Cloud Storage" class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id="m-docsstatic-mirroringstatic-hostinggcshtml"><span class="">Google CS</span></a>
    
  </li>

          
        
          
            
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docsstatic-mirroringstatic-hostinggithubhtml-li">
    <a href="../../../docs/static-mirroring/static-hosting/github.html" title="Hosting on GitHub" class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id="m-docsstatic-mirroringstatic-hostinggithubhtml"><span class="">GitHub</span></a>
    
  </li>

          
        
      </ul>
    
  </li>

          
        
      </ul>
    
  </li>

          
        
          
            
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  <li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id="m-docsdynamic-mirroringhtml-li">
    <a href="../../../docs/dynamic-mirroring.html" class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id="m-docsdynamic-mirroringhtml"><span class="">Dynamic Mirroring</span></a>
    
      
      <ul class="pr-md-3 ul-2">
        
          
            
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docsdynamic-mirroringdecoyhtml-li">
    <a href="../../../docs/dynamic-mirroring/decoy.html" class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id="m-docsdynamic-mirroringdecoyhtml"><span class="">Decoy</span></a>
    
  </li>

          
        
      </ul>
    
  </li>

          
        
          
            
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  <li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id="m-docsalternative-publishing-methodshtml-li">
    <a href="../../../docs/alternative-publishing-methods.html" class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id="m-docsalternative-publishing-methodshtml"><span class="">Alternative Publishing Methods</span></a>
    
      
      <ul class="pr-md-3 ul-2">
        
          
            
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  <li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id="m-docsalternative-publishing-methodstorhtml-li">
    <a href="../../../docs/alternative-publishing-methods/tor.html" class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id="m-docsalternative-publishing-methodstorhtml"><span class="">Tor</span></a>
    
      
      <ul class="pr-md-3 ul-3">
        
          
            
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docsalternative-publishing-methodstorintrohtml-li">
    <a href="../../../docs/alternative-publishing-methods/tor/intro.html" class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id="m-docsalternative-publishing-methodstorintrohtml"><span class="">Intro to Tor</span></a>
    
  </li>

          
        
          
            
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docsalternative-publishing-methodstoreotkhtml-li">
    <a href="../../../docs/alternative-publishing-methods/tor/eotk.html" class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id="m-docsalternative-publishing-methodstoreotkhtml"><span class="">EOTK</span></a>
    
  </li>

          
        
          
            
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child active-path" id="m-docsalternative-publishing-methodstorstaticonionhtml-li">
    <a href="../../../docs/alternative-publishing-methods/tor/staticonion.html" class="align-left pl-0 pr-2 active td-sidebar-link td-sidebar-link__page" id="m-docsalternative-publishing-methodstorstaticonionhtml"><span class="td-sidebar-nav-active-item">Static Onion</span></a>
    
  </li>

          
        
      </ul>
    
  </li>

          
        
          
            
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docsalternative-publishing-methodsipfsipfshtml-li">
    <a href="../../../docs/alternative-publishing-methods/ipfs/ipfs.html" title="Interplanetary File System" class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id="m-docsalternative-publishing-methodsipfsipfshtml"><span class="">IPFS</span></a>
    
  </li>

          
        
          
            
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docsalternative-publishing-methodsesniesnihtml-li">
    <a href="../../../docs/alternative-publishing-methods/esni/esni.html" title="Encrypted SNI" class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__page" id="m-docsalternative-publishing-methodsesniesnihtml"><span class="">ESNI</span></a>
    
  </li>

          
        
      </ul>
    
  </li>

          
        
          
            
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docscontribution-guidelineshtml-li">
    <a href="../../../docs/contribution-guidelines.html" class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id="m-docscontribution-guidelineshtml"><span class="">Contribution Guidelines</span></a>
    
  </li>

          
        
          
            
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docsreferencehtml-li">
    <a href="../../../docs/reference.html" class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section" id="m-docsreferencehtml"><span class="">References</span></a>
    
  </li>

          
        
      </ul>
    
  </li>

    </ul>
  </nav>
</div>




          </div>
          <div class="d-none d-xl-block col-xl-2 td-toc d-print-none">
            
  
  
  
  
  
  <div class="td-page-meta ml-2 pb-1 pt-2 mb-0">
  
    
    
      
    
    
    
    
    
    
    

    <a href="https://github.com/icaruslab/docs/edit/master/content/en/docs/Alternative%20Publishing%20Methods/Tor/staticonion.md" target="_blank"><i class="fa fa-edit fa-fw"></i> Edit this page</a>
    <a href="https://github.com/icaruslab/docs/new/master/content/en/docs/Alternative%20Publishing%20Methods/Tor/staticonion.md?filename=change-me.md&amp;value=---%0Atitle%3A&#43;%22Long&#43;Page&#43;Title%22%0AlinkTitle%3A&#43;%22Short&#43;Nav&#43;Title%22%0Aweight%3A&#43;100%0Adescription%3A&#43;%3E-%0A&#43;&#43;&#43;&#43;&#43;Page&#43;description&#43;for&#43;heading&#43;and&#43;indexes.%0A---%0A%0A%23%23&#43;Heading%0A%0AEdit&#43;this&#43;template&#43;to&#43;create&#43;your&#43;new&#43;page.%0A%0A%2A&#43;Give&#43;it&#43;a&#43;good&#43;name%2C&#43;ending&#43;in&#43;%60.md%60&#43;-&#43;e.g.&#43;%60getting-started.md%60%0A%2A&#43;Edit&#43;the&#43;%22front&#43;matter%22&#43;section&#43;at&#43;the&#43;top&#43;of&#43;the&#43;page&#43;%28weight&#43;controls&#43;how&#43;its&#43;ordered&#43;amongst&#43;other&#43;pages&#43;in&#43;the&#43;same&#43;directory%3B&#43;lowest&#43;number&#43;first%29.%0A%2A&#43;Add&#43;a&#43;good&#43;commit&#43;message&#43;at&#43;the&#43;bottom&#43;of&#43;the&#43;page&#43;%28%3C80&#43;characters%3B&#43;use&#43;the&#43;extended&#43;description&#43;field&#43;for&#43;more&#43;detail%29.%0A%2A&#43;Create&#43;a&#43;new&#43;branch&#43;so&#43;you&#43;can&#43;preview&#43;your&#43;new&#43;file&#43;and&#43;request&#43;a&#43;review&#43;via&#43;Pull&#43;Request.%0A" target="_blank"><i class="fa fa-edit fa-fw"></i> Create child page</a>
    <a href="https://github.com/icaruslab/docs/issues/new?title=Static%20Onion" target="_blank"><i class="fab fa-github fa-fw"></i> Create documentation issue</a>
    
      
      <a href="https://github.com/icaruslab/issues/new" target="_blank"><i class="fas fa-tasks fa-fw"></i> Create project issue</a>
    

  
  
    <a id="print" href="../../../docs/alternative-publishing-methods/tor/_print.html"><i class="fa fa-print fa-fw"></i> Print entire section</a>
  
  </div>







          </div>
          <main class="col-12 col-md-9 col-xl-8 pl-md-5" role="main">
            
  

            <nav aria-label="breadcrumb" class="d-none d-md-block d-print-none">
	<ol class="breadcrumb spb-1">
		













<li class="breadcrumb-item" >
	<a href="../../../docs.html">Documentation</a>
</li>




<li class="breadcrumb-item" >
	<a href="../../../docs/alternative-publishing-methods.html">Alternative Publishing Methods</a>
</li>




<li class="breadcrumb-item" >
	<a href="../../../docs/alternative-publishing-methods/tor.html">Tor</a>
</li>




<li class="breadcrumb-item active" aria-current="page">
	<a href="../../../docs/alternative-publishing-methods/tor/staticonion.html">Static Onion</a>
</li>

	</ol>
</nav	>

            
<div class="td-content">
	<h1>Static Onion</h1>
    <div class="lead">Create Onion Service for your Static mirror</div>
	
        <p class="reading-time"><i class="fa fa-clock" aria-hidden="true"></i> 3 minute read</p>
           
	<p>Required expertise level : <strong>Advanced</strong></p>
<p>Platform : <strong>Linux / Ubuntu - Debian</strong></p>
<hr>


<div class="pageinfo pageinfo-primary">
<p>This guide will walk you through the process of creating <strong>Onion Service</strong> for you static website.</p>

</div>



<div class="alert alert-warning" role="alert">
<h4 class="alert-heading">Note</h4>

    <strong>This guide</strong> focuses on creating a simple Onion service mainly in the context of censorship circumvention, if you are more concerned with the anonymity Tor provides in Onion services you should not depend on this guide alone, reading and understanding <strong><a href="https://2019.www.torproject.org/docs/tor-onion-service.html.en">Tor project documentations</a></strong> will best practice in that case, <strong>as a ensuring full anonymity is an advanced and very details oriented process.</strong>

</div>

<hr>
<ul>
<li><strong>Install Nginx webserver</strong></li>
</ul>
<blockquote>
<p>Run the following commands in your terminal in their respective order</p>
</blockquote>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">sudo apt install software-properties-common
sudo add-apt-repository ppa:nginx/stable
sudo apt update <span style="color:#ff79c6">&amp;&amp;</span> sudo apt install nginx -y
</code></pre></div><p><img src="../../../images/onion-services/6.png" alt=""></p>
<p>Confirm your installation by entering <code>nginx -v</code>, the output should look similar to this</p>
<ul>
<li><strong>Install Tor client</strong></li>
</ul>


<div class="alert alert-warning" role="alert">
<h4 class="alert-heading">Note</h4>

    <strong>If Tor Project Website and Tor communications are blocked in your country,</strong> probably the official <strong><a href="https://deb.torproject.org/torproject.org">software repositories</a></strong> are also blocked, in which case you should skip adding them and install Tor directly from <strong>your distribution&rsquo;s repositories.</strong>

</div>

<blockquote>
<p>Add in the following lines in <code>/etc/apt/sources.list</code></p>
</blockquote>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-fallback" data-lang="fallback">deb https://deb.torproject.org/torproject.org stretch main
deb-src https://deb.torproject.org/torproject.org stretch main
</code></pre></div><blockquote>
<p>Run the following commands in your terminal in their respective order</p>
</blockquote>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">curl https://deb.torproject.org/torproject.org/A3C4F0F979CAA22CDBA8F512EE8CBC9E886DDD89.asc | gpg --import
gpg --export A3C4F0F979CAA22CDBA8F512EE8CBC9E886DDD89 | sudo apt-key add -
sudo apt update <span style="color:#ff79c6">&amp;&amp;</span> apt install tor deb.torproject.org-keyring
sudo apt update <span style="color:#ff79c6">&amp;&amp;</span> sudo apt install tor
</code></pre></div><blockquote>
<p>Run the following commands to start Tor daemon</p>
</blockquote>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">sudo systemctl start tor
sudo systemctl <span style="color:#8be9fd;font-style:italic">enable</span> tor
</code></pre></div><blockquote>
<p>Confirm Tor is running without issues</p>
</blockquote>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">sudo systemctl status tor
tor --version
</code></pre></div><p><img src="../../../images/onion-services/7.png" alt=""></p>
<ul>
<li><strong>Configure Tor client</strong></li>
</ul>
<blockquote>
<p><strong>Open</strong> Tor config file at <code>/etc/tor/torrc</code> with your favorite editor</p>
</blockquote>
<p><code>vim /etc/tor/torrc</code></p>
<blockquote>
<p><strong>Uncomment</strong> the following lines by removing the <code>#</code>, and optionally, replace the directory name in <code>/var/lib/tor/hidden_service/</code> with different name, specially if you are planning on hosting multiple Onion Services on the same server. i.e. <code>/var/lib/tor/myfirstonion/</code></p>
</blockquote>
<ul>
<li><strong>Before:</strong></li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"> <span style="color:#bd93f9">72</span> <span style="color:#6272a4">#HiddenServiceDir /var/lib/tor/hidden_service/</span>
 <span style="color:#bd93f9">73</span> <span style="color:#6272a4">#HiddenServicePort 80 127.0.0.1:80</span>
</code></pre></div><ul>
<li><strong>After</strong>:</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">HiddenServiceDir /var/lib/tor/myfirstonion/
HiddenServicePort <span style="color:#bd93f9">80</span> 127.0.0.1:80
</code></pre></div><blockquote>
<p>Restart Tor service</p>
</blockquote>
<p><code>sudo systemctl restart tor</code></p>
<blockquote>
<p>Confirm your Onion Service related files were generated at <code>/var/lib/tor/myfirstonion/</code></p>
</blockquote>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#8be9fd;font-style:italic">cd</span> /var/lib/tor/myfirstonion/ <span style="color:#ff79c6">&amp;&amp;</span> ls
</code></pre></div><p>You should find two files generated at this directory</p>
<p>1- <code>hostname</code> <strong>contains your Onion Service address</strong></p>
<p>2- <code>private_key</code> <strong>Private key used for encryption. Don&rsquo;t edit or share this file under any circumstances</strong></p>
<p><img src="../../../images/onion-services/8.png" alt=""></p>
<ul>
<li><strong>Configure Nginx Webserver</strong></li>
</ul>
<p><strong>It&rsquo;s very important to read Nginx documentations and follow the <a href="https://riseup.net/en/security/network-security/tor/onionservices-best-practices">best practices</a> when configuring your Onion Service</strong></p>
<p>But essentially, you can get your Onion Service up &amp; running by adding this simple config file to your <code>/etc/nginx/sites-enabled</code></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-nginx" data-lang="nginx"><span style="color:#ff79c6">server</span> {
    <span style="color:#ff79c6">listen</span> 127.0.0.1:<span style="color:#bd93f9">80</span>;
    <span style="color:#ff79c6">server_name</span> <span style="color:#f1fa8c">[onion-address]</span>; <span style="color:#6272a4">#replace with your generated onion address, you can get that by executing : `cat /var/lib/[yourservicename]/hostname`
</span><span style="color:#6272a4"></span>    <span style="color:#ff79c6">root</span> <span style="color:#f1fa8c">/var/www/html/mystaticmirror</span>; <span style="color:#6272a4">#replace with your mirror&#39;s files directory, and make sure the webserver user has access permissions to it.
</span><span style="color:#6272a4"></span>    <span style="color:#ff79c6">client_max_body_size</span> <span style="color:#f1fa8c">99M</span>;
    <span style="color:#ff79c6">port_in_redirect</span> off;
    <span style="color:#ff79c6">charset</span> <span style="color:#f1fa8c">utf-8</span>;
    <span style="color:#ff79c6">index</span> <span style="color:#f1fa8c">index.html</span>;
<span style="color:#ff79c6">location</span> <span style="color:#f1fa8c">/</span> {
    <span style="color:#ff79c6">autoindex</span> off;
}
}
</code></pre></div><ul>
<li><strong>Testing your setup</strong></li>
</ul>
<p><img src="../../../images/onion-services/9.png" alt=""></p>
<p>Make sure Both Nginx and Tor client are restarted and running succesfully, then head to your Tor Browser and test your new Onion address.</p>
<ul>
<li><strong>[Optional] - announcing your new mirror for Tor browser users</strong></li>
</ul>


<div class="alert alert-primary" role="alert">


    <p><a href="https://community.torproject.org/onion-services/advanced/onion-location/"><strong>Onion-Location</strong></a> is a new feature implemented in Tor Browser.</p>
<p>It essentially allows you to <strong>announce your Onion mirror</strong> for Tor Browser users when they access your original website, through adding an <strong>HTTP Header</strong> using your webserver, or adding specific <strong>HTML <code>&lt;meta&gt;</code></strong> to your <code>index.html</code> page.</p>


</div>

<p><strong>HTTP Header</strong></p>
<ul>
<li>Apache</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-apache" data-lang="apache"><span style="color:#ff79c6">&lt;VirtualHost</span> <span style="color:#f1fa8c">*:443</span><span style="color:#ff79c6">&gt;</span>
       <span style="color:#8be9fd;font-style:italic">ServerName</span> &lt;your-website.tld&gt;
       <span style="color:#8be9fd;font-style:italic">DocumentRoot</span> <span style="color:#f1fa8c">/path/to/htdocs</span>

       <span style="color:#8be9fd;font-style:italic">Header</span> set Onion-Location <span style="color:#f1fa8c">&#34;http://your-onion-address.onion%{REQUEST_URI}s&#34;</span>

       <span style="color:#8be9fd;font-style:italic">SSLEngine</span> <span style="color:#ff79c6">on</span>
       <span style="color:#8be9fd;font-style:italic">SSLCertificateFile</span> <span style="color:#f1fa8c">&#34;/path/to/www.example.com.cert&#34;</span>
       <span style="color:#8be9fd;font-style:italic">SSLCertificateKeyFile</span> <span style="color:#f1fa8c">&#34;/path/to/www.example.com.key&#34;</span>
     <span style="color:#ff79c6">&lt;/VirtualHost&gt;</span>
</code></pre></div><ul>
<li>Nginx</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-nginx" data-lang="nginx"><span style="color:#ff79c6">add_header</span> <span style="color:#f1fa8c">Onion-Location</span> <span style="color:#f1fa8c">http://&lt;your-onion-address&gt;.onion</span><span style="color:#8be9fd;font-style:italic">$request_uri</span>;
</code></pre></div><p><strong>HTML <code>&lt;meta&gt;</code></strong></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">&lt;<span style="color:#ff79c6">meta</span> <span style="color:#50fa7b">http-equiv</span><span style="color:#ff79c6">=</span><span style="color:#f1fa8c">&#34;onion-location&#34;</span> <span style="color:#50fa7b">content</span><span style="color:#ff79c6">=</span><span style="color:#f1fa8c">&#34;http://&lt;your-onion-service-address&gt;.onion&#34;</span> /&gt;
</code></pre></div>

<div class="alert alert-primary" role="alert">


    <strong>When</strong> everything is well configured and working, visitors of your original Clearnet website using Tor browser, should be notified about the availability of the Onion mirror and it&rsquo;s address.

</div>

<p><img src="../../../images/onion-services/10.png" alt=""></p>

	
	
	<div class="text-muted mt-5 pt-3 border-top">Last modified September 20, 2020: <a  href="https://github.com/icaruslab/docs/commit/17bfe5ce7b168877e8da658a54bb9961fe575349">Hello world (17bfe5c)</a>
</div>
</div>


          </main>
        </div>
      </div>
      
<footer class="bg-dark py-5 row d-print-none">
  <div class="container-fluid mx-sm-5">
    <div class="row">
      <div class="col-6 col-sm-4 text-xs-center order-sm-2">
        
        
        
<ul class="list-inline mb-0">
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="Matrix channel" aria-label="Matrix channel">
    <a class="text-white" target="_blank" rel="noopener noreferrer" href="https://matrix.to/#/!kxgkaasHfjVIgsDvlx:matrix.org?via=matrix.org">
      <i class="fa fa-comment"></i>
    </a>
  </li>
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="Twitter" aria-label="Twitter">
    <a class="text-white" target="_blank" rel="noopener noreferrer" href="https://twitter.com/IcarusProject0">
      <i class="fab fa-twitter"></i>
    </a>
  </li>
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="Mastodon" aria-label="Mastodon">
    <a class="text-white" target="_blank" rel="noopener noreferrer" href="https://mastodon.online/web/accounts/41742">
      <i class="fab fa-mastodon"></i>
    </a>
  </li>
  
</ul>

        
        
      </div>
      <div class="col-6 col-sm-4 text-right text-xs-center order-sm-3">
        
        
        
<ul class="list-inline mb-0">
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="GitHub" aria-label="GitHub">
    <a class="text-white" target="_blank" rel="noopener noreferrer" href="https://github.com/icaruslab">
      <i class="fab fa-github"></i>
    </a>
  </li>
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="Send us an email" aria-label="Send us an email">
    <a class="text-white" target="_blank" rel="noopener noreferrer" href="mailto:info@fightcensorship.tech">
      <i class="fa fa-at"></i>
    </a>
  </li>
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="GPG Key" aria-label="GPG Key">
    <a class="text-white" target="_blank" rel="noopener noreferrer" href="https://keyserver.ubuntu.com/pks/lookup?op=get&amp;search=0x8982de90bb823122bed49ba7b055b6a6adf40cda">
      <i class="fa fa-key"></i>
    </a>
  </li>
  
</ul>

        
        
      </div>
      <div class="col-12 col-sm-4 text-center py-2 order-sm-2">
        <small class="text-white">&copy; 2021 GPLv3, All Rights Reserved</small>
        
	
      </div>
    </div>
  </div>
</footer>


    </div>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.min.js" integrity="sha384-+YQ4JLhjyBLPDQt//I+STsc9iw4uQqACwlvpslubQzn4u2UU2UFM80nGisd026JF" crossorigin="anonymous"></script>


<script src="https://cdn.jsdelivr.net/npm/mermaid@8.9.2/dist/mermaid.min.js" integrity="sha384-uQikAXnCAqsMb3ygtdqBYvcwvHUkzGIpjdGyy9owhURXHUxLC5LgTcSxJQH/RzjK" crossorigin="anonymous"></script>





 













<script src="../../../js/main.min.518952ab153faee01bac387cacc98de453d47e71eb54f525fd5aeba6d9a03ca7.js" integrity="sha256-UYlSqxU/ruAbrDh8rMmN5FPUfnHrVPUl/VrrptmgPKc=" crossorigin="anonymous"></script>






  </body>
</html>